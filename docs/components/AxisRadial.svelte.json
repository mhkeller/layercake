{"main":{"slug":"AxisRadial.svelte","contents":"<!--\n  @component\n  Generates an SVG radial scale, useful for radar charts.\n -->\n<script>\n  import { getContext } from 'svelte';\n\n  const { width, height, xScale, extents, config } = getContext('LayerCake');\n\n  /** @type {Number} [lineLengthFactor=1.1] - How far to extend the lines from the circle's center. A value of `1` puts them at the circle's circumference. */\n  export let lineLengthFactor = 1.1;\n\n  /** @type {Number} [labelPlacementFactor=1.25] - How far to place the labels from the circle's center. A value of `1` puts them at the circle's circumference. */\n  export let labelPlacementFactor = 1.25;\n\n  $: max = $xScale(Math.max(...$extents.x));\n\n  $: lineLength = max * lineLengthFactor;\n  $: labelPlacement = max * labelPlacementFactor;\n\n  $: angleSlice = (Math.PI * 2) / $config.x.length;\n\n  /** @param {Number} total\n   *  @param {Number} i */\n  function anchor(total, i) {\n    if (i === 0 || i === total / 2) {\n      return 'middle';\n    } else if (i < total / 2) {\n      return 'start';\n    }\n    return 'end';\n  }\n</script>\n\n<g transform=\"translate({$width / 2}, {$height / 2})\">\n  <circle cx=\"0\" cy=\"0\" r={max} stroke=\"#ccc\" stroke-width=\"1\" fill=\"#CDCDCD\" fill-opacity=\"0.1\"\n  ></circle>\n  <circle cx=\"0\" cy=\"0\" r={max / 2} stroke=\"#ccc\" stroke-width=\"1\" fill=\"none\"></circle>\n\n  {#each $config.x as label, i}\n    {@const thisAngleSlice = angleSlice * i - Math.PI / 2}\n    <line\n      x1=\"0\"\n      y1=\"0\"\n      x2={lineLength * Math.cos(thisAngleSlice)}\n      y2={lineLength * Math.sin(thisAngleSlice)}\n      stroke=\"#ccc\"\n      stroke-width=\"1\"\n      fill=\"none\"\n    >\n    </line>\n    <text\n      text-anchor={anchor($config.x.length, i)}\n      dy=\"0.35em\"\n      font-size=\"12px\"\n      transform=\"translate({labelPlacement * Math.cos(thisAngleSlice)}, {labelPlacement *\n        Math.sin(thisAngleSlice)})\">{label}</text\n    >\n  {/each}\n</g>"},"dek":"","usedIn":[{"group":"Regular","matches":["/example/Radar"]},{"group":"SSR","matches":[]}],"hasjsDoctable":true,"jsdocParsed":{"description":"","tags":[{"title":"param","description":"How far to extend the lines from the circle's center. A value of `1` puts them at the circle's circumference.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"lineLengthFactor","default":"1.1"},{"title":"param","description":"How far to place the labels from the circle's center. A value of `1` puts them at the circle's circumference.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"labelPlacementFactor","default":"1.25"},{"title":"param","description":null,"type":{"type":"NameExpression","name":"Number"},"name":"total"}]},"componentDescription":"Generates an SVG radial scale, useful for radar charts.","modules":[]}