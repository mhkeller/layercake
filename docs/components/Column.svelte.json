{"main":{"slug":"Column.svelte","contents":"<!--\n  @component\n  Generates an SVG column chart.\n -->\n<script>\n  import { getContext } from 'svelte';\n\n  const { data, xGet, yGet, x, yRange, xScale, y, height } = getContext('LayerCake');\n\n  /** @type {String} [fill='#00e047'] - The shape's fill color. */\n  export let fill = '#00e047';\n\n  /** @type {String} [stroke='#000'] - The shape's stroke color. */\n  export let stroke = '#000';\n\n  /** @type {Number} [strokeWidth=0] - The shape's stroke width. */\n  export let strokeWidth = 0;\n\n  /** @type {Boolean} [false] - Show the numbers for each column */\n  export let showLabels = false;\n\n  $: columnWidth = d => {\n    const vals = $xGet(d);\n    return Math.abs(vals[1] - vals[0]);\n  };\n\n  $: columnHeight = d => {\n    return $yRange[0] - $yGet(d);\n  };\n</script>\n\n<g class=\"column-group\">\n  {#each $data as d, i}\n    {@const colHeight = columnHeight(d)}\n    {@const xGot = $xGet(d)}\n    {@const xPos = Array.isArray(xGot) ? xGot[0] : xGot}\n    {@const colWidth = $xScale.bandwidth ? $xScale.bandwidth() : columnWidth(d)}\n    {@const yValue = $y(d)}\n    <rect\n      class=\"group-rect\"\n      data-id={i}\n      data-range={$x(d)}\n      data-count={yValue}\n      x={xPos}\n      y={$yGet(d)}\n      width={colWidth}\n      height={colHeight}\n      {fill}\n      {stroke}\n      stroke-width={strokeWidth}\n    />\n    {#if showLabels && yValue}\n      <text x={xPos + colWidth / 2} y={$height - colHeight - 5} text-anchor=\"middle\">{yValue}</text>\n    {/if}\n  {/each}\n</g>\n\n<style>\n  text {\n    font-size: 12px;\n  }\n</style>"},"dek":"","usedIn":[{"group":"Regular","matches":["/example/Column","/example/Histogram"]},{"group":"SSR","matches":["/example-ssr/Column","/example-ssr/Histogram"]}],"hasjsDoctable":true,"jsdocParsed":{"description":"","tags":[{"title":"param","description":"The shape's fill color.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"String"}},"name":"fill","default":"'#00e047'"},{"title":"param","description":"The shape's stroke color.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"String"}},"name":"stroke","default":"'#000'"},{"title":"param","description":"The shape's stroke width.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"strokeWidth","default":"0"},{"title":"param","description":"Show the numbers for each column","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Boolean"}},"name":"false"}]},"componentDescription":"Generates an SVG column chart.","modules":[]}