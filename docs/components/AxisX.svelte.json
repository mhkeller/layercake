{"main":{"slug":"AxisX.svelte","contents":"<!--\n  @component\n  Generates an SVG x-axis. This component is also configured to detect if your x-scale is an ordinal scale. If so, it will place the markers in the middle of the bandwidth.\n -->\n<script>\n  import { getContext } from 'svelte';\n  const { width, height, xScale, yRange } = getContext('LayerCake');\n\n  /** @type {Boolean} [gridlines=true] – Extend lines from the ticks into the chart space */\n  export let gridlines = true;\n\n  /** @type {Boolean} [tickMarks=false] – Show a vertical mark for each tick. */\n  export let tickMarks = false;\n\n  /** @type {Boolean} [baseline=false] – Show a solid line at the bottom. */\n  export let baseline = false;\n\n  /** @type {Boolean} [snapTicks=false] – Instead of centering the text on the first and the last items, align them to the edges of the chart. */\n  export let snapTicks = false;\n\n  /** @type {Function} [formatTick=d => d] – A function that passes the current tick value and expects a nicely formatted value in return. */\n  export let formatTick = d => d;\n\n  /** @type {Number|Array|Function} [ticks] – If this is a number, it passes that along to the [d3Scale.ticks](https://github.com/d3/d3-scale) function. If this is an array, hardcodes the ticks to those values. If it's a function, passes along the default tick values and expects an array of tick values in return. If nothing, it uses the default ticks supplied by the D3 function. */\n  export let ticks = undefined;\n\n  /** @type {Number} [xTick=0] – TK */\n  export let xTick = 0;\n\n  /** @type {Number} [yTick=16] – The distance from the baseline to place each tick value. */\n  export let yTick = 16;\n\n  $: isBandwidth = typeof $xScale.bandwidth === 'function';\n\n  $: tickVals = Array.isArray(ticks) ? ticks :\n    isBandwidth ?\n      $xScale.domain() :\n      typeof ticks === 'function' ?\n        ticks($xScale.ticks()) :\n          $xScale.ticks(ticks);\n\n  function textAnchor(i) {\n    if (snapTicks === true) {\n      if (i === 0) {\n        return 'start';\n      }\n      if (i === tickVals.length - 1) {\n        return 'end';\n      }\n    }\n    return 'middle';\n  }\n</script>\n\n<g class='axis x-axis' class:snapTicks>\n  {#each tickVals as tick, i}\n    <g class='tick tick-{ i }' transform='translate({$xScale(tick)},{$yRange[0]})'>\n      {#if gridlines !== false}\n        <line class=\"gridline\" y1='{$height * -1}' y2='0' x1='0' x2='0'></line>\n      {/if}\n      {#if tickMarks === true}\n        <line class=\"tick-mark\" y1='{0}' y2='{6}' x1='{xTick || isBandwidth ? $xScale.bandwidth() / 2 : 0}' x2='{xTick || isBandwidth ? $xScale.bandwidth() / 2 : 0}'></line>\n      {/if}\n      <text\n        x=\"{xTick || isBandwidth ? $xScale.bandwidth() / 2 : 0}\"\n        y='{yTick}'\n        dx=''\n        dy=''\n        text-anchor='{textAnchor(i)}'>{formatTick(tick)}</text>\n    </g>\n  {/each}\n  {#if baseline === true}\n    <line class=\"baseline\" y1='{$height + 0.5}' y2='{$height + 0.5}' x1='0' x2='{$width}'></line>\n  {/if}\n</g>\n\n<style>\n  .tick {\n    font-size: .725em;\n    font-weight: 200;\n  }\n\n  line,\n  .tick line {\n    stroke: #aaa;\n    stroke-dasharray: 2;\n  }\n\n  .tick text {\n    fill: #666;\n  }\n\n  .tick .tick-mark,\n  .baseline {\n    stroke-dasharray: 0;\n  }\n  /* This looks slightly better */\n  .axis.snapTicks .tick:last-child text {\n    transform: translateX(3px);\n  }\n  .axis.snapTicks .tick.tick-0 text {\n    transform: translateX(-3px);\n  }\n</style>"},"dek":"","usedIn":[{"group":"Regular","matches":["/example/AreaStacked","/example/Bar","/example/BarStacked","/example/Beeswarm","/example/BeeswarmForce","/example/Brush","/example/ClevelandDotPlot","/example/Column","/example/ColumnStacked","/example/Histogram","/example/Line","/example/MultiLine","/example/Scatter","/example/ScatterWebgl","/example/Timeplot"]},{"group":"SSR","matches":[]}],"jsdocParsed":{"description":"","tags":[{"title":"param","description":"– Extend lines from the ticks into the chart space","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Boolean"}},"name":"gridlines","default":"true"},{"title":"param","description":"– Show a vertical mark for each tick.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Boolean"}},"name":"tickMarks","default":"false"},{"title":"param","description":"– Show a solid line at the bottom.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Boolean"}},"name":"baseline","default":"false"},{"title":"param","description":"– Instead of centering the text on the first and the last items, align them to the edges of the chart.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Boolean"}},"name":"snapTicks","default":"false"},{"title":"param","description":"– A function that passes the current tick value and expects a nicely formatted value in return.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Function"}},"name":"formatTick","default":"d=>d"},{"title":"param","description":"– If this is a number, it passes that along to the [d3Scale.ticks](https://github.com/d3/d3-scale) function. If this is an array, hardcodes the ticks to those values. If it's a function, passes along the default tick values and expects an array of tick values in return. If nothing, it uses the default ticks supplied by the D3 function.","type":{"type":"OptionalType","expression":{"type":"UnionType","elements":[{"type":"NameExpression","name":"Number"},{"type":"NameExpression","name":"Array"},{"type":"NameExpression","name":"Function"}]}},"name":"ticks"},{"title":"param","description":"– TK","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"xTick","default":"0"},{"title":"param","description":"– The distance from the baseline to place each tick value.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"yTick","default":"16"}]},"componentDescription":"Generates an SVG x-axis. This component is also configured to detect if your x-scale is an ordinal scale. If so, it will place the markers in the middle of the bandwidth.","modules":[]}