import{a as $,n as Lt,d as yt,s as dt,t as R,e as mt}from"./disclose-version.DNYiTfVC.js";import{p as at,aG as it,P as U,Q as ot,t as j,a as st,c as E,f as ct,s as H,r as K,K as W,w as t,O as M,v as G,M as u,aH as pt}from"./runtime.B7mK2QHg.js";import{i as et}from"./if.DfQvOzx6.js";import{s as ft,d as kt,a as m,q as jt,f as Mt}from"./Brush.html.CzO9ncG6.js";import{s as Y,e as rt,t as Rt,a as bt,i as xt}from"./class.w-fjc9ue.js";import{p as a,b as Ct}from"./index-client.BSwEoech.js";import{i as nt}from"./lifecycle.VwM39mxy.js";import{s as lt,a as r}from"./store.DudUxdVv.js";var Bt=R("<title> </title>"),zt=Lt('<svg preserveAspectRatio="none" style="right:0px; bottom:0px;" class="svelte-6sm8ei"><!><defs><!></defs><!></svg>');function le(I,e){var w,h;at(e,!1);const l=lt(),_=()=>r(s,"$padding",l),{padding:s}=it("LayerCake");let v=a(e,"element",12,void 0),f=a(e,"zIndex",8,void 0),y=a(e,"pointerEvents",8,void 0),x=a(e,"fixedAspectRatio",8,1),c=a(e,"viewBox",28,()=>`0 0 100 ${100/x()}`),B=a(e,"label",8,void 0),z=a(e,"labelledBy",8,void 0),q=a(e,"describedBy",8,void 0),A=a(e,"title",8,void 0);U(()=>W(x()),()=>{c(`0 0 100 ${100/x()}`)}),ot(),nt();var d=zt();Ct(d,S=>v(S),()=>v());var O=E(d);ft(O,(w=e.$$slots)==null?void 0:w.title,{},S=>{var i=yt(),o=ct(i);et(o,A,g=>{var b=Bt(),T=E(b);K(b),j(()=>dt(T,A())),$(g,b)}),$(S,i)});var k=H(O),n=E(k);ft(n,(h=e.$$slots)==null?void 0:h.defs,{},null),K(k);var V=H(k);ft(V,kt(e),{get element(){return v()}},null),K(d),j(()=>{Y(d,"viewBox",c()),Y(d,"aria-label",B()),Y(d,"aria-labelledby",z()),Y(d,"aria-describedby",q()),m(d,"z-index",f(),void 0,!0),m(d,"pointer-events",y()===!1?"none":null,void 0,!0),m(d,"top",_().top+"px",void 0,!0),m(d,"left",_().left+"px",void 0,!0),m(d,"width",`calc(100% - ${_().left+_().right}px)`,void 0,!0),m(d,"height",`calc(100% - ${_().top+_().bottom}px)`,void 0,!0)}),$(I,d),st()}var At=R('<div class="baseline svelte-fdkjmm" style="top:100%; width:100%;"></div>'),Vt=R('<div class="gridline svelte-fdkjmm" style="top:0; bottom:0;"></div>'),Tt=R('<div class="tick-mark svelte-fdkjmm"></div>'),Ut=R('<!> <!> <!> <div><div class="text svelte-fdkjmm"> </div></div>',1),Kt=R('<div class="axis x-axis svelte-fdkjmm"></div>');function de(I,e){at(e,!1);const l=lt(),_=()=>r(B,"$percentRange",l),s=()=>r(c,"$xScale",l),v=M(),f=M(),y=M(),x=M(),{xScale:c,percentRange:B}=it("LayerCake");let z=a(e,"tickMarks",8,!1),q=a(e,"gridlines",8,!0),A=a(e,"tickMarkLength",8,6),d=a(e,"baseline",8,!1),O=a(e,"snapLabels",8,!1),k=a(e,"format",8,o=>o),n=a(e,"ticks",8,void 0),V=a(e,"tickGutter",8,0),w=a(e,"dx",8,0),h=a(e,"dy",8,0),S=a(e,"units",24,()=>_()===!0?"%":"px");U(()=>(W(z()),W(A())),()=>{G(v,z()===!0?A()??6:0)}),U(()=>s(),()=>{G(f,typeof s().bandwidth=="function")}),U(()=>(W(n()),t(f),s()),()=>{G(y,Array.isArray(n())?n():t(f)?s().domain():typeof n()=="function"?n()(s().ticks()):s().ticks(n()))}),U(()=>(t(f),s()),()=>{G(x,t(f)?s().bandwidth()/2:0)}),ot(),nt();var i=Kt();rt(i,7,()=>t(y),o=>o,(o,g,b)=>{var T=Ut();const C=u(()=>s()(t(g)));var N=ct(T);et(N,()=>d()===!0,D=>{var P=At();$(D,P)});var Q=H(N,2);et(Q,()=>q()===!0,D=>{var P=Vt();j(()=>m(P,"left",`${t(C)??""}${S()??""}`,void 0,!0)),$(D,P)});var L=H(Q,2);et(L,()=>z()===!0,D=>{var P=Tt();j(()=>{m(P,"left",`${t(C)+t(x)}${S()??""}`),m(P,"height",`${t(v)??""}px`),m(P,"bottom",`${-t(v)-V()}px`)}),$(D,P)});var p=H(L,2),J=E(p),X=E(J);j(()=>dt(X,k()(t(g)))),K(J),K(p),j(()=>{bt(p,`tick tick-${t(b)??""} svelte-fdkjmm`),Y(p,"style",`top:calc(100% + ${V()??""}px);`),m(p,"left",`${t(C)+t(x)}${S()??""}`,void 0,!0),m(J,"top",`${t(v)??""}px`),m(J,"transform",`translate(calc(-50% + ${w()??""}px), ${h()??""}px)`)}),$(o,T)}),K(i),j(()=>Rt(i,"snapLabels",O())),$(I,i),st()}var qt=R('<div class="gridline svelte-1jmrx3z" style="top:0;"></div>'),Ot=R('<div class="tick-mark svelte-1jmrx3z"></div>'),Pt=R('<div><!> <!> <div class="text svelte-1jmrx3z"> </div></div>'),Wt=R('<div class="axis y-axis svelte-1jmrx3z"></div>');function re(I,e){at(e,!1);const l=lt(),_=()=>r(O,"$percentRange",l),s=()=>r(d,"$yScale",l),v=()=>r(A,"$xRange",l),f=M(),y=M(),x=M(),c=M(),B=M(),z=M(),q=M(),{xRange:A,yScale:d,percentRange:O}=it("LayerCake");let k=a(e,"tickMarks",8,!1),n=a(e,"labelPosition",8,"even"),V=a(e,"snapBaselineLabel",8,!1),w=a(e,"gridlines",8,!0),h=a(e,"tickMarkLength",8,void 0),S=a(e,"format",8,L=>L),i=a(e,"ticks",8,4),o=a(e,"tickGutter",8,0),g=a(e,"dx",8,0),b=a(e,"dy",24,()=>-3),T=a(e,"charPixelWidth",8,7.25),C=a(e,"units",24,()=>_()===!0?"%":"px");function N(L,p){return p===","||p==="."?L+T()*.5:L+T()}U(()=>s(),()=>{G(f,typeof s().bandwidth=="function")}),U(()=>(W(i()),t(f),s()),()=>{G(y,Array.isArray(i())?i():t(f)?s().domain():typeof i()=="function"?i()(s().ticks()):s().ticks(i()))}),U(()=>(t(y),W(S())),()=>{G(c,Math.max(10,Math.max(...t(y).map(L=>S()(L).toString().split("").reduce(N,0)))))}),U(()=>(W(k()),W(n()),W(h()),t(c)),()=>{G(x,k()===!0?n()==="above"?h()??t(c):h()??6:0)}),U(()=>(W(o()),W(n()),t(c),t(x)),()=>{G(B,-o()-(n()==="above"?t(c):t(x)))}),U(()=>(t(f),s()),()=>{G(z,t(f)?s().bandwidth()/2:0)}),U(()=>(t(y),s()),()=>{G(q,Math.max(...t(y).map(s())))}),ot(),nt();var Q=Wt();rt(Q,7,()=>t(y),L=>L,(L,p,J)=>{var X=Pt();const D=u(()=>s()(t(p)));var P=E(X);et(P,()=>w()===!0,tt=>{var F=qt();m(F,"right","0px",void 0,!0),j(()=>m(F,"left",`${t(B)??""}px`,void 0,!0)),$(tt,F)});var vt=H(P,2);et(vt,()=>k()===!0,tt=>{var F=Ot();m(F,"top","0"),j(()=>{m(F,"left",`${t(B)??""}px`),m(F,"width",`${t(x)??""}px`)}),$(tt,F)});var Z=H(vt,2);m(Z,"top","0");var ut=E(Z);j(()=>dt(ut,S()(t(p)))),K(Z),K(X),j(()=>{bt(X,`tick tick-${t(J)??""} svelte-1jmrx3z`),Y(X,"style",`left:${v()[0]??""}${C()??""};top:${t(D)+t(z)}${C()??""};`),m(Z,"text-align",n()==="even"?"right":"left"),m(Z,"width",`${t(c)??""}px`),m(Z,"left",`${-t(c)-o()-(n()==="even"?t(x):0)}px`),m(Z,"transform",`translate(${g()+(n()==="even"?-3:0)}px, calc(-50% + ${b()+(n()==="above"||V()===!0&&t(D)===t(q)?-3:4)}px))`)}),$(L,X)}),K(Q),$(I,Q),st()}var It=R('<div class="circle svelte-icbw6q"></div>'),Qt=R('<div class="scatter-group"></div>');function ce(I,e){at(e,!1);const l=lt(),_=()=>r(x,"$data",l),s=()=>r(c,"$xGet",l),v=()=>r(z,"$xScale",l),f=()=>r(B,"$yGet",l),y=()=>r(q,"$yScale",l),{data:x,xGet:c,yGet:B,xScale:z,yScale:q}=it("LayerCake");let A=a(e,"r",8,5),d=a(e,"fill",8,"#0cf"),O=a(e,"stroke",8,"#000"),k=a(e,"strokeWidth",8,1);nt();var n=Qt();rt(n,5,_,xt,(V,w)=>{var h=It();const S=u(()=>s()(t(w))+(v().bandwidth?v().bandwidth()/2:0)),i=u(()=>f()(t(w))+(y().bandwidth?y().bandwidth()/2:0)),o=u(()=>A()*2),g=u(()=>A()*2),b=u(()=>d()??""),T=u(()=>k()??""),C=u(()=>O()??"");j(()=>Y(h,"style",`
				left: ${t(S)}%;
				top: ${t(i)}%;
				width: ${t(o)}px;
				height: ${t(g)}px;
				background-color: ${t(b)};
				border: ${t(T)}px solid ${t(C)};
			`)),$(V,h)}),K(n),$(I,n),st()}var Et=R('<div class="bg svelte-19xh5jy" role="tooltip"></div> <!>',1);function Ht(I,e){at(e,!1);const l=lt(),_=()=>r(q,"$xGet",l),s=()=>r(A,"$yGet",l),v=()=>r(d,"$width",l),f=()=>r(O,"$height",l),y=()=>r(z,"$data",l),x=M(),c=M(),B=M(),{data:z,xGet:q,yGet:A,width:d,height:O}=it("LayerCake");let k=M(!1),n=M({}),V=M({}),w=a(e,"x",8,"x"),h=a(e,"y",8,"y"),S=a(e,"searchRadius",8,void 0),i=a(e,"dataset",8,void 0);function o(C){G(V,C);const N=`layer${w().toUpperCase()}`,Q=`layer${h().toUpperCase()}`,L=C[N]/(w()==="x"?v():f())*100,p=C[Q]/(h()==="y"?f():v())*100;G(n,t(B).find(L,p,S())||{}),G(k,Object.keys(t(n)).length>0)}U(()=>(W(w()),_(),s()),()=>{G(x,w()==="x"?_():s())}),U(()=>(W(h()),s(),_()),()=>{G(c,h()==="y"?s():_())}),U(()=>(v(),f(),t(x),t(c),W(i()),y()),()=>{G(B,jt().extent([[-1,-1],[v()+1,f()+1]]).x(t(x)).y(t(c)).addAll(i()||y()))}),ot(),nt();var g=Et(),b=ct(g),T=H(b,2);ft(T,kt(e),{get x(){return t(x)(t(n))||0},get y(){return t(c)(t(n))||0},get found(){return t(n)},get visible(){return t(k)},get e(){return t(V)}},null),mt("mousemove",b,o),mt("mouseout",b,()=>G(k,!1)),mt("blur",b,()=>G(k,!1)),$(I,g),st()}var Nt=R('<div class="row"><span class="key svelte-16stchf"> </span> </div>'),Xt=R('<div class="line svelte-16stchf"></div> <div class="tooltip svelte-16stchf"><div class="title svelte-16stchf"> </div> <!></div>',1);function oe(I,e){at(e,!1);const l=lt(),_=()=>r(B,"$config",l),s=()=>r(y,"$data",l),v=()=>r(x,"$width",l),f=()=>r(c,"$yScale",l),{data:y,width:x,yScale:c,config:B}=it("LayerCake"),z=Mt(","),q=i=>i.replace(/^\w/,o=>o.toUpperCase());let A=a(e,"formatTitle",8,i=>i),d=a(e,"formatKey",8,i=>q(i)),O=a(e,"formatValue",8,i=>isNaN(+i)?i:z(i)),k=a(e,"offset",24,()=>-20),n=a(e,"dataset",8,void 0);const V=150,w=V/2;function h(i){return Object.keys(i).length===0?[]:Object.keys(i).filter(g=>g!==_().x).map(g=>({key:g,value:i[g]})).sort((g,b)=>b.value-g.value)}nt();var S=u(()=>n()||s());Ht(I,{get dataset(){return t(S)},y:"x",children:pt,$$slots:{default:(i,o)=>{const g=u(()=>o.x),b=u(()=>o.visible),T=u(()=>o.found);var C=yt();const N=u(()=>h(t(T)));var Q=ct(C);et(Q,()=>t(b)===!0,L=>{var p=Xt(),J=ct(p),X=H(J,2);const D=u(()=>V),P=u(()=>(t(b)?"block":"none")??""),vt=u(()=>f()(t(N)[0].value)??""),Z=u(()=>k()??""),ut=u(()=>Math.min(Math.max(w,t(g)/100*v()),v()-w)??"");j(()=>Y(X,"style",`
        width:${t(D)}px;
        display: ${t(P)};
        top:calc(${t(vt)}% + ${t(Z)}px);
        left:${t(ut)}px;`));var tt=E(X),F=E(tt);j(()=>dt(F,A()(t(T)[_().x]))),K(tt);var $t=H(tt,2);rt($t,1,()=>t(N),xt,(wt,ht)=>{var _t=Nt(),gt=E(_t),St=E(gt);j(()=>dt(St,`${d()(t(ht).key)??""}:`)),K(gt);var Gt=H(gt);j(()=>dt(Gt,` ${O()(t(ht).value)??""}`)),K(_t),$(wt,_t)}),K(X),j(()=>Y(J,"style",`left:${t(g)/100*v()}px;`)),$(L,p)}),$(i,C)}}}),st()}var Yt=R('<div class="circle svelte-1j3utxh"></div>'),Dt=R('<div class="dot-row"><div class="line svelte-1j3utxh"></div> <!></div>'),Ft=R('<div class="dot-plot"></div>');function ve(I,e){at(e,!1);const l=lt(),_=()=>r(d,"$yScale",l),s=()=>r(B,"$data",l),v=()=>r(q,"$yGet",l),f=()=>r(z,"$xGet",l),y=()=>r(A,"$zScale",l),x=()=>r(O,"$config",l),c=M(),{data:B,xGet:z,yGet:q,zScale:A,yScale:d,config:O}=it("LayerCake");let k=a(e,"r",8,5);U(()=>_(),()=>{G(c,_().bandwidth()/2)}),ot(),nt();var n=Ft();rt(n,5,s,xt,(V,w)=>{var h=Dt();const S=u(()=>v()(t(w))),i=u(()=>f()(t(w)));var o=E(h);const g=u(()=>Math.min(...t(i))??""),b=u(()=>t(S)+t(c)),T=u(()=>100-Math.max(...t(i)));j(()=>Y(o,"style",`
					left: ${t(g)}%;
					top: ${t(b)}%;
					right: ${t(T)}%;
				`));var C=H(o,2);rt(C,1,()=>t(i),xt,(N,Q,L)=>{var p=Yt();j(()=>Y(p,"style",`
						left: ${t(Q)??""}%;
						top: ${t(S)+t(c)}%;
						width: ${k()*2}px;
						height: ${k()*2}px;
						background: ${y()(x().x[L])??""};
					`)),$(N,p)}),K(h),$(V,h)}),K(n),$(I,n),st()}export{de as A,ve as C,Ht as Q,le as S,re as a,ce as b,oe as c};
