import{b as w,n as Lt,d as ht,t as M,s as lt,e as yt}from"./BBz-090T.js";import{z as et,aN as at,N as T,O as ot,G as j,A as it,D as Y,L as ct,F as U,C as F,x as N,w as t,M as p,P as $,I as d,aO as pt}from"./Cxro91qv.js";import{i as tt}from"./Dj9Kk6jQ.js";import{s as nt,b as ft,c as y,a as o,q as jt,f as Mt}from"./pvuXrj-A.js";import{s as H,e as dt,a as kt,t as Ct,i as xt}from"./LAHbaaU8.js";import{p as a,b as Rt}from"./IEQ67wLA.js";import{i as st}from"./BZkFnTQF.js";var Bt=M("<title> </title>"),zt=Lt('<svg preserveAspectRatio="none" style="right:0px; bottom:0px;" class="svelte-6sm8ei"><!><defs><!></defs><!></svg>');function se(P,e){et(e,!1);const l=nt(),_=()=>o(n,"$padding",l),{padding:n}=at("LayerCake");let f=a(e,"element",12,void 0),x=a(e,"zIndex",8,void 0),h=a(e,"pointerEvents",8,void 0),u=a(e,"fixedAspectRatio",8,1),v=a(e,"viewBox",28,()=>`0 0 100 ${100/u()}`),B=a(e,"label",8,void 0),z=a(e,"labelledBy",8,void 0),O=a(e,"describedBy",8,void 0),A=a(e,"title",8,void 0);T(()=>N(u()),()=>{v(`0 0 100 ${100/u()}`)}),ot(),st();var c=zt();Rt(c,b=>f(b),()=>f());var q=Y(c);ft(q,e,"title",{},b=>{var m=ht(),G=ct(m);tt(G,A,i=>{var r=Bt(),g=Y(r);U(r),j(()=>lt(g,A())),w(i,r)}),w(b,m)});var k=F(q),s=Y(k);ft(s,e,"defs",{},null),U(k);var V=F(k);ft(V,e,"default",{get element(){return f()}},null),U(c),j(()=>{H(c,"viewBox",v()),H(c,"aria-label",B()),H(c,"aria-labelledby",z()),H(c,"aria-describedby",O()),y(c,"z-index",x(),void 0,!0),y(c,"pointer-events",h()===!1?"none":null,void 0,!0),y(c,"top",_().top+"px",void 0,!0),y(c,"left",_().left+"px",void 0,!0),y(c,"width",`calc(100% - ${_().left+_().right}px)`,void 0,!0),y(c,"height",`calc(100% - ${_().top+_().bottom}px)`,void 0,!0)}),w(P,c),it()}var At=M('<div class="baseline svelte-fdkjmm" style="top:100%; width:100%;"></div>'),Vt=M('<div class="gridline svelte-fdkjmm" style="top:0; bottom:0;"></div>'),Tt=M('<div class="tick-mark svelte-fdkjmm"></div>'),Ut=M('<!> <!> <!> <div><div class="text svelte-fdkjmm"> </div></div>',1),Ot=M('<div class="axis x-axis svelte-fdkjmm"></div>');function le(P,e){et(e,!1);const l=nt(),_=()=>o(B,"$percentRange",l),n=()=>o(v,"$xScale",l),f=p(),x=p(),h=p(),u=p(),{xScale:v,percentRange:B}=at("LayerCake");let z=a(e,"tickMarks",8,!1),O=a(e,"gridlines",8,!0),A=a(e,"tickMarkLength",8,6),c=a(e,"baseline",8,!1),q=a(e,"snapLabels",8,!1),k=a(e,"format",8,r=>r),s=a(e,"ticks",8,void 0),V=a(e,"tickGutter",8,0),b=a(e,"dx",8,0),m=a(e,"dy",8,0),G=a(e,"units",24,()=>_()===!0?"%":"px");T(()=>(N(z()),N(A())),()=>{$(f,z()===!0?A()??6:0)}),T(()=>n(),()=>{$(x,typeof n().bandwidth=="function")}),T(()=>(N(s()),t(x),n()),()=>{$(h,Array.isArray(s())?s():t(x)?n().domain():typeof s()=="function"?s()(n().ticks()):n().ticks(s()))}),T(()=>(t(x),n()),()=>{$(u,t(x)?n().bandwidth()/2:0)}),ot(),st();var i=Ot();dt(i,7,()=>t(h),r=>r,(r,g,C)=>{var I=Ut();const R=d(()=>n()(t(g)));var W=ct(I);tt(W,()=>c()===!0,J=>{var K=At();w(J,K)});var E=F(W,2);tt(E,()=>O()===!0,J=>{var K=Vt();j(()=>y(K,"left",`${t(R)??""}${G()??""}`,void 0,!0)),w(J,K)});var S=F(E,2);tt(S,()=>z()===!0,J=>{var K=Tt();j(()=>{y(K,"left",`${t(R)+t(u)}${G()??""}`),y(K,"height",`${t(f)??""}px`),y(K,"bottom",`${-t(f)-V()}px`)}),w(J,K)});var L=F(S,2),Q=Y(L),D=Y(Q);j(()=>lt(D,k()(t(g)))),U(Q),U(L),j(()=>{kt(L,`tick tick-${t(C)??""} svelte-fdkjmm`),H(L,"style",`top:calc(100% + ${V()??""}px);`),y(L,"left",`${t(R)+t(u)}${G()??""}`,void 0,!0),y(Q,"top",`${t(f)??""}px`),y(Q,"transform",`translate(calc(-50% + ${b()??""}px), ${m()??""}px)`)}),w(r,I)}),U(i),j(()=>Ct(i,"snapLabels",q())),w(P,i),it()}var qt=M('<div class="gridline svelte-1jmrx3z" style="top:0;"></div>'),It=M('<div class="tick-mark svelte-1jmrx3z"></div>'),Kt=M('<div><!> <!> <div class="text svelte-1jmrx3z"> </div></div>'),Nt=M('<div class="axis y-axis svelte-1jmrx3z"></div>');function de(P,e){et(e,!1);const l=nt(),_=()=>o(q,"$percentRange",l),n=()=>o(c,"$yScale",l),f=()=>o(A,"$xRange",l),x=p(),h=p(),u=p(),v=p(),B=p(),z=p(),O=p(),{xRange:A,yScale:c,percentRange:q}=at("LayerCake");let k=a(e,"tickMarks",8,!1),s=a(e,"labelPosition",8,"even"),V=a(e,"snapBaselineLabel",8,!1),b=a(e,"gridlines",8,!0),m=a(e,"tickMarkLength",8,void 0),G=a(e,"format",8,S=>S),i=a(e,"ticks",8,4),r=a(e,"tickGutter",8,0),g=a(e,"dx",8,0),C=a(e,"dy",24,()=>-3),I=a(e,"charPixelWidth",8,7.25),R=a(e,"units",24,()=>_()===!0?"%":"px");function W(S,L){return L===","||L==="."?S+I()*.5:S+I()}T(()=>n(),()=>{$(x,typeof n().bandwidth=="function")}),T(()=>(N(i()),t(x),n()),()=>{$(h,Array.isArray(i())?i():t(x)?n().domain():typeof i()=="function"?i()(n().ticks()):n().ticks(i()))}),T(()=>(t(h),N(G())),()=>{$(v,Math.max(10,Math.max(...t(h).map(S=>G()(S).toString().split("").reduce(W,0)))))}),T(()=>(N(k()),N(s()),N(m()),t(v)),()=>{$(u,k()===!0?s()==="above"?m()??t(v):m()??6:0)}),T(()=>(N(r()),N(s()),t(v),t(u)),()=>{$(B,-r()-(s()==="above"?t(v):t(u)))}),T(()=>(t(x),n()),()=>{$(z,t(x)?n().bandwidth()/2:0)}),T(()=>(t(h),n()),()=>{$(O,Math.max(...t(h).map(n())))}),ot(),st();var E=Nt();dt(E,7,()=>t(h),S=>S,(S,L,Q)=>{var D=Kt();const J=d(()=>n()(t(L)));var K=Y(D);tt(K,()=>b()===!0,rt=>{var X=qt();y(X,"right","0px",void 0,!0),j(()=>y(X,"left",`${t(B)??""}px`,void 0,!0)),w(rt,X)});var vt=F(K,2);tt(vt,()=>k()===!0,rt=>{var X=It();y(X,"top","0"),j(()=>{y(X,"left",`${t(B)??""}px`),y(X,"width",`${t(u)??""}px`)}),w(rt,X)});var Z=F(vt,2);y(Z,"top","0");var ut=Y(Z);j(()=>lt(ut,G()(t(L)))),U(Z),U(D),j(()=>{kt(D,`tick tick-${t(Q)??""} svelte-1jmrx3z`),H(D,"style",`left:${f()[0]??""}${R()??""};top:${t(J)+t(z)}${R()??""};`),y(Z,"text-align",s()==="even"?"right":"left"),y(Z,"width",`${t(v)??""}px`),y(Z,"left",`${-t(v)-r()-(s()==="even"?t(u):0)}px`),y(Z,"transform",`translate(${g()+(s()==="even"?-3:0)}px, calc(-50% + ${C()+(s()==="above"||V()===!0&&t(J)===t(O)?-3:4)}px))`)}),w(S,D)}),U(E),w(P,E),it()}var Pt=M('<div class="circle svelte-icbw6q"></div>'),Wt=M('<div class="scatter-group"></div>');function re(P,e){et(e,!1);const l=nt(),_=()=>o(u,"$data",l),n=()=>o(v,"$xGet",l),f=()=>o(z,"$xScale",l),x=()=>o(B,"$yGet",l),h=()=>o(O,"$yScale",l),{data:u,xGet:v,yGet:B,xScale:z,yScale:O}=at("LayerCake");let A=a(e,"r",8,5),c=a(e,"fill",8,"#0cf"),q=a(e,"stroke",8,"#000"),k=a(e,"strokeWidth",8,1);st();var s=Wt();dt(s,5,_,xt,(V,b)=>{var m=Pt();const G=d(()=>n()(t(b))+(f().bandwidth?f().bandwidth()/2:0)),i=d(()=>x()(t(b))+(h().bandwidth?h().bandwidth()/2:0)),r=d(()=>A()*2),g=d(()=>A()*2),C=d(()=>c()??""),I=d(()=>k()??""),R=d(()=>q()??""),W=d(()=>`
				left: ${t(G)}%;
				top: ${t(i)}%;
				width: ${t(r)}px;
				height: ${t(g)}px;
				background-color: ${t(C)};
				border: ${t(I)}px solid ${t(R)};
			`);j(()=>H(m,"style",t(W))),w(V,m)}),U(s),w(P,s),it()}var Dt=M('<div class="bg svelte-19xh5jy" role="tooltip"></div> <!>',1);function Et(P,e){et(e,!1);const l=nt(),_=()=>o(O,"$xGet",l),n=()=>o(A,"$yGet",l),f=()=>o(c,"$width",l),x=()=>o(q,"$height",l),h=()=>o(z,"$data",l),u=p(),v=p(),B=p(),{data:z,xGet:O,yGet:A,width:c,height:q}=at("LayerCake");let k=p(!1),s=p({}),V=p({}),b=a(e,"x",8,"x"),m=a(e,"y",8,"y"),G=a(e,"searchRadius",8,void 0),i=a(e,"dataset",8,void 0);function r(R){$(V,R);const W=`layer${b().toUpperCase()}`,E=`layer${m().toUpperCase()}`,S=R[W]/(b()==="x"?f():x())*100,L=R[E]/(m()==="y"?x():f())*100;$(s,t(B).find(S,L,G())||{}),$(k,Object.keys(t(s)).length>0)}T(()=>(N(b()),_(),n()),()=>{$(u,b()==="x"?_():n())}),T(()=>(N(m()),n(),_()),()=>{$(v,m()==="y"?n():_())}),T(()=>(f(),x(),t(u),t(v),N(i()),h()),()=>{$(B,jt().extent([[-1,-1],[f()+1,x()+1]]).x(t(u)).y(t(v)).addAll(i()||h()))}),ot(),st();var g=Dt(),C=ct(g),I=F(C,2);ft(I,e,"default",{get x(){return t(u)(t(s))||0},get y(){return t(v)(t(s))||0},get found(){return t(s)},get visible(){return t(k)},get e(){return t(V)}},null),yt("mousemove",C,r),yt("mouseout",C,()=>$(k,!1)),yt("blur",C,()=>$(k,!1)),w(P,g),it()}var Qt=M('<div class="row"><span class="key svelte-16stchf"> </span> </div>'),Xt=M('<div class="line svelte-16stchf"></div> <div class="tooltip svelte-16stchf"><div class="title svelte-16stchf"> </div> <!></div>',1);function ce(P,e){et(e,!1);const l=nt(),_=()=>o(B,"$config",l),n=()=>o(h,"$data",l),f=()=>o(u,"$width",l),x=()=>o(v,"$yScale",l),{data:h,width:u,yScale:v,config:B}=at("LayerCake"),z=Mt(","),O=i=>i.replace(/^\w/,r=>r.toUpperCase());let A=a(e,"formatTitle",8,i=>i),c=a(e,"formatKey",8,i=>O(i)),q=a(e,"formatValue",8,i=>isNaN(+i)?i:z(i)),k=a(e,"offset",24,()=>-20),s=a(e,"dataset",8,void 0);const V=150,b=V/2;function m(i){return Object.keys(i).length===0?[]:Object.keys(i).filter(g=>g!==_().x).map(g=>({key:g,value:i[g]})).sort((g,C)=>C.value-g.value)}st();var G=d(()=>s()||n());Et(P,{get dataset(){return t(G)},y:"x",children:pt,$$slots:{default:(i,r)=>{const g=d(()=>r.x),C=d(()=>r.visible),I=d(()=>r.found);var R=ht();const W=d(()=>m(t(I)));var E=ct(R);tt(E,()=>t(C)===!0,S=>{var L=Xt(),Q=ct(L),D=F(Q,2);const J=d(()=>V),K=d(()=>(t(C)?"block":"none")??""),vt=d(()=>x()(t(W)[0].value)??""),Z=d(()=>k()??""),ut=d(()=>Math.min(Math.max(b,t(g)/100*f()),f()-b)??""),rt=d(()=>`
        width:${t(J)}px;
        display: ${t(K)};
        top:calc(${t(vt)}% + ${t(Z)}px);
        left:${t(ut)}px;`);var X=Y(D),bt=Y(X);j(()=>lt(bt,A()(t(I)[_().x]))),U(X);var wt=F(X,2);dt(wt,1,()=>t(W),xt,($t,mt)=>{var _t=Qt(),gt=Y(_t),St=Y(gt);j(()=>lt(St,`${c()(t(mt).key)??""}:`)),U(gt);var Gt=F(gt);j(()=>lt(Gt,` ${q()(t(mt).value)??""}`)),U(_t),w($t,_t)}),U(D),j(()=>{H(Q,"style",`left:${t(g)/100*f()}px;`),H(D,"style",t(rt))}),w(S,L)}),w(i,R)}}}),it()}var Yt=M('<div class="circle svelte-1j3utxh"></div>'),Ft=M('<div class="dot-row"><div class="line svelte-1j3utxh"></div> <!></div>'),Ht=M('<div class="dot-plot"></div>');function oe(P,e){et(e,!1);const l=nt(),_=()=>o(c,"$yScale",l),n=()=>o(B,"$data",l),f=()=>o(O,"$yGet",l),x=()=>o(z,"$xGet",l),h=()=>o(A,"$zScale",l),u=()=>o(q,"$config",l),v=p(),{data:B,xGet:z,yGet:O,zScale:A,yScale:c,config:q}=at("LayerCake");let k=a(e,"r",8,5);T(()=>_(),()=>{$(v,_().bandwidth()/2)}),ot(),st();var s=Ht();dt(s,5,n,xt,(V,b)=>{var m=Ft();const G=d(()=>f()(t(b))),i=d(()=>x()(t(b)));var r=Y(m);const g=d(()=>Math.min(...t(i))??""),C=d(()=>t(G)+t(v)),I=d(()=>100-Math.max(...t(i))),R=d(()=>`
					left: ${t(g)}%;
					top: ${t(C)}%;
					right: ${t(I)}%;
				`);var W=F(r,2);dt(W,1,()=>t(i),xt,(E,S,L)=>{var Q=Yt();const D=d(()=>`
						left: ${t(S)??""}%;
						top: ${t(G)+t(v)}%;
						width: ${k()*2}px;
						height: ${k()*2}px;
						background: ${h()(u().x[L])??""};
					`);j(()=>H(Q,"style",t(D))),w(E,Q)}),U(m),j(()=>H(r,"style",t(R))),w(V,m)}),U(s),w(P,s),it()}export{le as A,oe as C,Et as Q,se as S,de as a,re as b,ce as c};
