{"main":{"slug":"AxisRadial.svelte","contents":"<script>\n  /**\n    Generates an SVG radial scale, useful for radar charts.\n    @type {Number} [lineLengthFactor=1.1] – How far to extend the lines from the circle's center. A value of `1` puts them at the circle's circumference.\n    @type {Number} [labelPlacementFactor=1.25] – How far to place the labels from the circle's center. A value of `1` puts them at the circle's circumference.\n  */\n  import { getContext } from 'svelte';\n\n  const { width, height, xScale, extents, config } = getContext('LayerCake');\n\n  export let lineLengthFactor = 1.1;\n  export let labelPlacementFactor = 1.25;\n\n  $: max = $xScale(Math.max(...$extents.x));\n\n  $: angleSlice = (Math.PI * 2) / $config.x.length;\n\n  function anchor (total, i) {\n    if (i === 0 || i === total / 2) {\n      return 'middle';\n    } else if (i < total / 2) {\n      return 'start';\n    }\n    return 'end';\n  }\n</script>\n\n<g\n  transform=\"translate({ $width / 2 }, { $height / 2 })\"\n>\n  <circle\n    cx=\"0\"\n    cy=\"0\"\n    r=\"{max}\"\n    stroke=\"#ccc\"\n    stroke-width=\"1\"\n    fill=\"#CDCDCD\"\n    fill-opacity=\"0.1\"\n  ></circle>\n  <circle\n    cx=\"0\"\n    cy=\"0\"\n    r=\"{max / 2}\"\n    stroke=\"#ccc\"\n    stroke-width=\"1\"\n    fill=\"none\"\n  ></circle>\n\n  {#each $config.x as label, i}\n    <line\n      x1=\"0\"\n      y1=\"0\"\n      x2=\"{(max * lineLengthFactor) * Math.cos(angleSlice * i - Math.PI / 2)}\"\n      y2=\"{(max * lineLengthFactor) * Math.sin(angleSlice * i - Math.PI / 2)}\"\n      stroke=\"#ccc\"\n      stroke-width=\"1\"\n      fill=\"none\"\n    >\n    </line>\n    <text\n      text-anchor=\"{anchor($config.x.length, i)}\"\n      dy=\"0.35em\"\n      font-size=\"12px\"\n      text-outline=\"#fff\"\n      transform=\"translate({(max * labelPlacementFactor) * Math.cos(angleSlice * i - Math.PI / 2)}, {(max * labelPlacementFactor) * Math.sin(angleSlice * i - Math.PI / 2)})\">{label}</text>\n  {/each}\n</g>"},"dek":"","usedIn":[{"group":"Regular","matches":["/example/Radar"]},{"group":"SSR","matches":[]}],"jsdocParsed":{"description":"Generates an SVG radial scale, useful for radar charts.","tags":[{"title":"param","description":"– How far to extend the lines from the circle's center. A value of `1` puts them at the circle's circumference.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"lineLengthFactor","default":"1.1"},{"title":"param","description":"– How far to place the labels from the circle's center. A value of `1` puts them at the circle's circumference.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"labelPlacementFactor","default":"1.25"}]}}