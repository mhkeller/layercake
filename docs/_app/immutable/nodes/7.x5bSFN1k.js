import{e as P}from"../chunks/index.CzR0xuCU.js";import{g as Y,a as f,t as _,$ as D,f as j,b as s,c as i,s as z,i as h}from"../chunks/disclose-version.DBj9Vt0q.js";import{p as F,a as H,h as d,s as g,m as A,r as q,z as o}from"../chunks/runtime.D9nQNyi8.js";import{e as B,i as E,s as y}from"../chunks/class.ClfF0HVi.js";import{h as J}from"../chunks/html.pu-OIvc1.js";import{a as K,b as N}from"../chunks/index-client.CFCBblPQ.js";import{i as Q}from"../chunks/lifecycle.fbi-k1SI.js";import{G as V}from"../chunks/GuideContents.pnD4C2CR.js";async function W({fetch:b}){const r=await b("guide.json"),n=await r.json();if(r.status===200)return{sections:n};P(500,"Could not load.")}const de=Object.freeze(Object.defineProperty({__proto__:null,load:W},Symbol.toStringTag,{value:"Module"}));var X=_('<meta name="og:title" content="Layer Cake — Guide"> <meta name="twitter:title" content="Layer Cake — Guide">',1),Z=_('<li class="svelte-7qt7ip"><a class="svelte-7qt7ip"> </a></li>'),ee=_('<section class="svelte-7qt7ip"><h2 class="svelte-7qt7ip"> <small class="svelte-7qt7ip"><a target="_blank" rel="noreferrer">edit this section</a></small></h2> <!></section>'),te=_('<sidebar class="svelte-7qt7ip"><!></sidebar> <div id="container" class="content svelte-7qt7ip"><section id="toc" class="svelte-7qt7ip"><h3 class="svelte-7qt7ip">Table of contents</h3> <ul class="svelte-7qt7ip"></ul></section> <!></div>',1);function ue(b,r){F(r,!1);let n=A(),k=[],u="introduction",v=A(),m=[];K(()=>{typeof window<"u"&&(m=d(n).querySelectorAll("[id]"),u=window.location.hash.slice(1),g(v,u),C(),G(),window.addEventListener("scroll",G,!0),window.addEventListener("resize",C,!0))});function C(){if(d(n)){const{top:t}=d(n).getBoundingClientRect();k=[].map.call(m,e=>e.getBoundingClientRect().top-t)}}function G(){const t=-window.scrollY;let e=m.length;for(;e--;)if(k[e]+t<100){const l=m[e],{id:a}=l;a!==u&&(g(v,a),u=a);return}}Q();var x=te();Y(t=>{var e=X();D.title="LayerCake - Guide";var l=j(e),a=s(s(l,!0));f(t,e)});var S=j(x),O=i(S);V(O,{get sections(){return r.data.sections},get activeGuideSection(){return d(v)},set activeGuideSection(t){g(v,t)}});var $=s(s(S,!0));N($,t=>g(n,t),()=>d(n));var L=i($),R=i(L),T=s(s(R,!0));B(T,9,()=>r.data.sections,E,(t,e,l)=>{var a=Z(),c=i(a),p=i(c);q(()=>z(p,`- ${h(o(e).slug.replace(/^\w/,w=>w.toUpperCase()).replaceAll("-"," "))}`)),q(()=>y(c,"href",`#${h(o(e).slug)}`)),f(t,a)});var U=s(s(L,!0));B(U,1,()=>r.data.sections,E,(t,e,l)=>{var a=ee(),c=i(a),p=i(c),w=s(p),I=i(w),M=s(s(c,!0));J(M,()=>o(e).html),q(()=>{y(a,"id",o(e).slug),z(p,`${h(o(e).metadata.title)} `),y(I,"href",`https://github.com/mhkeller/layercake/edit/master/src/content/guide/${h(o(e).file)}`)}),f(t,a)}),f(b,x),H()}export{ue as component,de as universal};
