<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="description" content="Layer Cake" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0" />
		<meta name="theme-color" content="#ff3e00" />

		<link rel="icon" type="image/png" href="/layercake-logo-100.png" />

		<meta property="og:site_name" content="https://layercake.graphics" />
		<meta property="og:type" content="article" />
		<meta name="twitter:card" content="summary_large_image" />

		<meta property="og:image" content="https://layercake.graphics/layercake-logo-1200.png" />
		<meta
			property="og:description"
			content="A framework for mostly-reusable graphics with svelte"
		/>
		<meta name="description" content="A framework for mostly-reusable graphics with svelte" />
		<meta
			name="keywords"
			content="layercake, graphics, svelte, graphics framework, svelte graphics framework, data viz, data visualization, reusable, mostly-reusable"
		/>
		<meta property="og:url" content="https://layercake.graphics" />
		<link rel="shortcut icon" type="image/png" href="https://layercake.graphics/favicon.png" />

		<meta name="twitter:site" content="https://layercake.graphics" />
		<meta name="twitter:image" content="https://layercake.graphics/layercake-logo-1200.png" />

		
		<link href="../_app/immutable/assets/Brush.DM3e0XUZ.css" rel="stylesheet">
		<link href="../_app/immutable/assets/GuideContents.CywkJAyG.css" rel="stylesheet">
		<link href="../_app/immutable/assets/dots.C1JmrMJl.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_examples.DK1koyEP.css" rel="stylesheet">
		<link href="../_app/immutable/assets/ClevelandDotPlot.percent-range.W1EbrBh7.css" rel="stylesheet">
		<link href="../_app/immutable/assets/_examples_ssr.DIsTBFWx.css" rel="stylesheet">
		<link href="../_app/immutable/assets/0.DxdymbDz.css" rel="stylesheet">
		<link href="../_app/immutable/assets/cleanTitle.CFecr7kA.css" rel="stylesheet">
		<link href="../_app/immutable/assets/6.DpAr0pec.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.C0zY-RjY.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BrNOTQI-.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Dc8w0MKf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CYgJF_JY.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.CSPRmjdZ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Bh0c0Bo_.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/9oYeDuEJ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D4ufLdXk.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CwEcf403.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.BnmWdcTD.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DNSHY1Ls.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DMRkByBl.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CtZ_RwMT.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C6dkNy40.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D_1g5R5_.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CUF8VRvy.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BItLl5Eb.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/xMgiCxe1.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CtMzmlpM.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CGccFiz3.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BQ42IkDs.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/6.CzzgQkIK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BWkyw__h.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DPn4pLDi.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/v5gc1jnk.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CvyvihwV.js"><!--[--><!--]--><title>Brush</title>
	</head>
	<body data-sveltekit-preload-data="hover">
		<div id="svelte"><!--[--><!--[--><!----><div class="closed mousecatcher svelte-1kuhx2l"></div> <div class="container svelte-1kuhx2l"><span class="menu-link menu-closed svelte-1kuhx2l">Menu</span> <a href="/" class="logo svelte-1kuhx2l">Layer Cake</a></div> <ul class="dropdown svelte-1kuhx2l"><li class="svelte-1kuhx2l"><select class="svelte-1kuhx2l"><!--[!--><!--]--><!--[!--><!--]--><option value="/">All</option><option class="header svelte-1kuhx2l" disabled></option><option class="header svelte-1kuhx2l" disabled>Client-side</option><!--[--><option value="/example/Bar">Bar</option><option value="/example/Beeswarm">Beeswarm</option><option value="/example/BeeswarmForce">Beeswarm, force layout</option><option value="/example/Brush">Brush</option><option value="/example/Calendar">Calendar</option><option value="/example/CirclePack">Circle pack</option><option value="/example/CirclePackForce">Circle pack, force layout</option><option value="/example/ClevelandDotPlot">Cleveland dot plot</option><option value="/example/Column">Column annotated</option><option value="/example/Histogram">Histogram</option><option value="/example/Line">Line + area</option><option value="/example/MapSvg">Map</option><option value="/example/MapLayered">Multilayer map</option><option value="/example/MultiLine">Multiline</option><option value="/example/CirclePackNested">Nested circle pack</option><option value="/example/Radar">Radar chart</option><option value="/example/Sankey">Sankey</option><option value="/example/Scatter">Scatter</option><option value="/example/SmallMultiples">Small multiples</option><option value="/example/AreaStacked">Stacked area</option><option value="/example/BarStacked">Stacked bar</option><option value="/example/ColumnStacked">Stacked column</option><option value="/example/SyncedBrush">Synced brush</option><option value="/example/Timeplot">Time of day plot</option><option value="/example/ScatterWebgl">WebGL Scatter</option><!--]--><option class="header svelte-1kuhx2l" disabled></option><option class="header svelte-1kuhx2l" disabled>Server-side</option><!--[--><option value="/example-ssr/Bar">Bar</option><option value="/example-ssr/Brush">Brush</option><option value="/example-ssr/Calendar">Calendar</option><option value="/example-ssr/ClevelandDotPlot">Cleveland dot plot</option><option value="/example-ssr/Column">Column annotated</option><option value="/example-ssr/Histogram">Histogram</option><option value="/example-ssr/Line">Line + area</option><option value="/example-ssr/MapSvg">Map</option><option value="/example-ssr/MapLayered">Multilayer map</option><option value="/example-ssr/MultiLine">Multiline</option><option value="/example-ssr/Scatter">Scatter</option><option value="/example-ssr/SmallMultiples">Small multiples</option><option value="/example-ssr/AreaStacked">Stacked area</option><option value="/example-ssr/BarStacked">Stacked bar</option><option value="/example-ssr/ColumnStacked">Stacked column</option><option value="/example-ssr/SyncedBrush">Synced brush</option><option value="/example-ssr/Timeplot">Time of day plot</option><option value="/example-ssr/ScatterWebgl">WebGL Scatter</option><!--]--></select></li></ul> <nav class="closed svelte-1kuhx2l"><ul class="primary svelte-1kuhx2l"><li class="svelte-1kuhx2l"><a class="svelte-1kuhx2l" href="/components"><span class="wide-name svelte-1kuhx2l">Component gallery</span><span class="short-name svelte-1kuhx2l">Components</span></a></li> <li class="svelte-1kuhx2l"><a class="svelte-1kuhx2l" href="/guide">Guide</a></li> <li class="svelte-1kuhx2l"><a id="github-link" target="_blank" rel="noreferrer" href="https://github.com/mhkeller/layercake" class="svelte-1kuhx2l"></a></li></ul> <div class="secondary svelte-1kuhx2l"><ul class="guide-toc svelte-1dvhul3"><!--[--><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#introduction">Introduction</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#what-is-layer-cake">What is Layer Cake?</a><a class="subsection  svelte-1dvhul3" href="/guide#key-concepts">Key Concepts</a><a class="subsection  svelte-1dvhul3" href="/guide#getting-started">Getting started</a><a class="subsection  svelte-1dvhul3" href="/guide#using-layout-components">Using layout components</a><a class="subsection  svelte-1dvhul3" href="/guide#layer-components">Layer components</a><a class="subsection  svelte-1dvhul3" href="/guide#data-less-cakes">Data-less cakes</a><a class="subsection  svelte-1dvhul3" href="/guide#server-side-rendering">Server-side rendering</a><a class="subsection  svelte-1dvhul3" href="/guide#how-does-layercake-know-what-to-set-as-a-scale39s-domain-and-range">How does LayerCake know what to set as a scale's domain and range?</a><!--]--></li><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#troubleshooting">Troubleshooting</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#use-the-debug-feature">Use the debug feature</a><a class="subsection  svelte-1dvhul3" href="/guide#typescript">TypeScript</a><a class="subsection  svelte-1dvhul3" href="/guide#the-chart-is-blank">The chart is blank</a><a class="subsection  svelte-1dvhul3" href="/guide#the-chart-is-a-very-small-square">The chart is a very small square</a><a class="subsection  svelte-1dvhul3" href="/guide#the-library-isn39t-building-properly">The library isn't building properly</a><a class="subsection  svelte-1dvhul3" href="/guide#listening-for-click-events-on-the-entire-component">Listening for click events on the entire component</a><!--]--></li><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#accessibility">Accessibility</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#layout-attributes">Layout attributes</a><a class="subsection  svelte-1dvhul3" href="/guide#html-layouts">HTML layouts</a><a class="subsection  svelte-1dvhul3" href="/guide#svg-layouts">SVG layouts</a><a class="subsection  svelte-1dvhul3" href="/guide#canvas-and-webgl-layouts">Canvas and WebGl layouts</a><!--]--></li><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#layercake-props">LayerCake props</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#data">data</a><a class="subsection  svelte-1dvhul3" href="/guide#x">x</a><a class="subsection  svelte-1dvhul3" href="/guide#y">y</a><a class="subsection  svelte-1dvhul3" href="/guide#z">z</a><a class="subsection  svelte-1dvhul3" href="/guide#r">r</a><a class="subsection  svelte-1dvhul3" href="/guide#debug">debug</a><a class="subsection  svelte-1dvhul3" href="/guide#padding">padding</a><a class="subsection  svelte-1dvhul3" href="/guide#xscale">xScale</a><a class="subsection  svelte-1dvhul3" href="/guide#yscale">yScale</a><a class="subsection  svelte-1dvhul3" href="/guide#zscale">zScale</a><a class="subsection  svelte-1dvhul3" href="/guide#rscale">rScale</a><a class="subsection  svelte-1dvhul3" href="/guide#xdomain">xDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#ydomain">yDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#zdomain">zDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#rdomain">rDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#xdomainsort">xDomainSort</a><a class="subsection  svelte-1dvhul3" href="/guide#ydomainsort">yDomainSort</a><a class="subsection  svelte-1dvhul3" href="/guide#zdomainsort">zDomainSort</a><a class="subsection  svelte-1dvhul3" href="/guide#rdomainsort">rDomainSort</a><a class="subsection  svelte-1dvhul3" href="/guide#xpadding">xPadding</a><a class="subsection  svelte-1dvhul3" href="/guide#ypadding">yPadding</a><a class="subsection  svelte-1dvhul3" href="/guide#zpadding">zPadding</a><a class="subsection  svelte-1dvhul3" href="/guide#rpadding">rPadding</a><a class="subsection  svelte-1dvhul3" href="/guide#xnice">xNice</a><a class="subsection  svelte-1dvhul3" href="/guide#ynice">yNice</a><a class="subsection  svelte-1dvhul3" href="/guide#znice">zNice</a><a class="subsection  svelte-1dvhul3" href="/guide#rnice">rNice</a><a class="subsection  svelte-1dvhul3" href="/guide#xrange">xRange</a><a class="subsection  svelte-1dvhul3" href="/guide#yrange">yRange</a><a class="subsection  svelte-1dvhul3" href="/guide#zrange">zRange</a><a class="subsection  svelte-1dvhul3" href="/guide#rrange">rRange</a><a class="subsection  svelte-1dvhul3" href="/guide#xreverse">xReverse</a><a class="subsection  svelte-1dvhul3" href="/guide#yreverse">yReverse</a><a class="subsection  svelte-1dvhul3" href="/guide#zreverse">zReverse</a><a class="subsection  svelte-1dvhul3" href="/guide#rreverse">rReverse</a><a class="subsection  svelte-1dvhul3" href="/guide#extents">extents</a><a class="subsection  svelte-1dvhul3" href="/guide#flatdata">flatData</a><a class="subsection  svelte-1dvhul3" href="/guide#ssr">ssr</a><a class="subsection  svelte-1dvhul3" href="/guide#percentrange">percentRange</a><a class="subsection  svelte-1dvhul3" href="/guide#position">position</a><a class="subsection  svelte-1dvhul3" href="/guide#custom">custom</a><!--]--></li><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#computed-context-values">Computed context values</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#activegetters">activeGetters</a><a class="subsection  svelte-1dvhul3" href="/guide#aspectratio">aspectRatio</a><a class="subsection  svelte-1dvhul3" href="/guide#box">box</a><a class="subsection  svelte-1dvhul3" href="/guide#config">config</a><a class="subsection  svelte-1dvhul3" href="/guide#containerwidth">containerWidth</a><a class="subsection  svelte-1dvhul3" href="/guide#containerheight">containerHeight</a><a class="subsection  svelte-1dvhul3" href="/guide#extents-1">extents</a><a class="subsection  svelte-1dvhul3" href="/guide#width">width</a><a class="subsection  svelte-1dvhul3" href="/guide#height">height</a><a class="subsection  svelte-1dvhul3" href="/guide#x-1">x</a><a class="subsection  svelte-1dvhul3" href="/guide#y-1">y</a><a class="subsection  svelte-1dvhul3" href="/guide#z-1">z</a><a class="subsection  svelte-1dvhul3" href="/guide#r-1">r</a><a class="subsection  svelte-1dvhul3" href="/guide#xdomain-1">xDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#ydomain-1">yDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#zdomain-1">zDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#rdomain-1">rDomain</a><a class="subsection  svelte-1dvhul3" href="/guide#xrange-1">xRange</a><a class="subsection  svelte-1dvhul3" href="/guide#yrange-1">yRange</a><a class="subsection  svelte-1dvhul3" href="/guide#zrange-1">zRange</a><a class="subsection  svelte-1dvhul3" href="/guide#rrange-1">rRange</a><a class="subsection  svelte-1dvhul3" href="/guide#xget">xGet(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#yget">yGet(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#zget">zGet(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#rget">rGet(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#xscale-1">xScale(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#yscale-1">yScale(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#zscale-1">zScale(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#rscale-1">rScale(...)</a><!--]--></li><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#layout-components">Layout components</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#html">Html</a><a class="subsection  svelte-1dvhul3" href="/guide#svg">Svg</a><a class="subsection  svelte-1dvhul3" href="/guide#scaledsvg">ScaledSvg</a><a class="subsection  svelte-1dvhul3" href="/guide#canvas">Canvas</a><a class="subsection  svelte-1dvhul3" href="/guide#webgl">WebGL</a><!--]--></li><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#layout-component-props">Layout component props</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#zindex">zIndex</a><a class="subsection  svelte-1dvhul3" href="/guide#pointerevents">pointerEvents</a><a class="subsection  svelte-1dvhul3" href="/guide#viewbox">viewBox</a><a class="subsection  svelte-1dvhul3" href="/guide#fixedaspectratio">fixedAspectRatio</a><a class="subsection  svelte-1dvhul3" href="/guide#contextattributes">contextAttributes</a><!--]--></li><li class="svelte-1dvhul3"><a class="section  svelte-1dvhul3" href="/guide#helper-functions">Helper functions</a> <!--[--><a class="subsection  svelte-1dvhul3" href="/guide#bin">bin(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#calcextents">calcExtents(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#calcuniques">calcUniques(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#flatten">flatten(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#grouplonger">groupLonger(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#raise">raise(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#scalecanvas">scaleCanvas(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#stack">stack(...)</a><a class="subsection  svelte-1dvhul3" href="/guide#uniques">uniques(...)</a><!--]--></li><!--]--></ul><!----></div></nav><!----> <main><!----><!----><div class="main svelte-78pozx" data-label="Server-side"><h1>Brush<a class="edit-repl svelte-78pozx" href="https://svelte.dev/repl/7b692f97938f4bc2a79d62d5ccdbb02d?version=3.46.2" target="_blank" rel="noreferrer">Edit</a></h1> <div class="chart-hero svelte-78pozx" data-slug="brush"><!----><div class="brushed-chart-container svelte-12vpq9d"><!--[--><div class="layercake-container svelte-vhzpsp" style="position: relative;"><!----><div class="layercake-layout-html svelte-1x3xzit" style="top: 0px; right: 0px; bottom: 20px; left: 25px;"><!----><div class="axis x-axis svelte-fdkjmm"><!--[--><!--[!--><!--]--> <!--[--><div class="gridline svelte-fdkjmm" style="top:0; bottom:0; left: 2.7027027027027026%;"></div><!--]--> <!--[!--><!--]--> <div class="tick tick-0 svelte-fdkjmm" style="top:calc(100% + 0px); left: 2.7027027027027026%;"><div class="text svelte-fdkjmm" style="top: 0px; transform: translate(calc(-50% + 0px), 0px);">1980</div></div><!--[!--><!--]--> <!--[--><div class="gridline svelte-fdkjmm" style="top:0; bottom:0; left: 29.72972972972973%;"></div><!--]--> <!--[!--><!--]--> <div class="tick tick-1 svelte-fdkjmm" style="top:calc(100% + 0px); left: 29.72972972972973%;"><div class="text svelte-fdkjmm" style="top: 0px; transform: translate(calc(-50% + 0px), 0px);">1990</div></div><!--[!--><!--]--> <!--[--><div class="gridline svelte-fdkjmm" style="top:0; bottom:0; left: 56.75675675675676%;"></div><!--]--> <!--[!--><!--]--> <div class="tick tick-2 svelte-fdkjmm" style="top:calc(100% + 0px); left: 56.75675675675676%;"><div class="text svelte-fdkjmm" style="top: 0px; transform: translate(calc(-50% + 0px), 0px);">2000</div></div><!--[!--><!--]--> <!--[--><div class="gridline svelte-fdkjmm" style="top:0; bottom:0; left: 83.78378378378379%;"></div><!--]--> <!--[!--><!--]--> <div class="tick tick-3 svelte-fdkjmm" style="top:calc(100% + 0px); left: 83.78378378378379%;"><div class="text svelte-fdkjmm" style="top: 0px; transform: translate(calc(-50% + 0px), 0px);">2010</div></div><!--]--></div><!----> <div class="axis y-axis svelte-1jmrx3z"><!--[--><div class="tick tick-0 svelte-1jmrx3z" style="left:0%;top:100%;"><!--[--><div class="gridline svelte-1jmrx3z" style="top:0; left: 0px; right: 0px;"></div><!--]--> <!--[!--><!--]--> <div class="text svelte-1jmrx3z" style="top: 0; text-align: right; width: 10px; left: -10px; transform: translate(-3px, calc(-50% + 1px));">0</div></div><div class="tick tick-1 svelte-1jmrx3z" style="left:0%;top:74.58703939008895%;"><!--[--><div class="gridline svelte-1jmrx3z" style="top:0; left: 0px; right: 0px;"></div><!--]--> <!--[!--><!--]--> <div class="text svelte-1jmrx3z" style="top: 0; text-align: right; width: 10px; left: -10px; transform: translate(-3px, calc(-50% + 1px));">2</div></div><div class="tick tick-2 svelte-1jmrx3z" style="left:0%;top:49.17407878017789%;"><!--[--><div class="gridline svelte-1jmrx3z" style="top:0; left: 0px; right: 0px;"></div><!--]--> <!--[!--><!--]--> <div class="text svelte-1jmrx3z" style="top: 0; text-align: right; width: 10px; left: -10px; transform: translate(-3px, calc(-50% + 1px));">4</div></div><div class="tick tick-3 svelte-1jmrx3z" style="left:0%;top:23.761118170266837%;"><!--[--><div class="gridline svelte-1jmrx3z" style="top:0; left: 0px; right: 0px;"></div><!--]--> <!--[!--><!--]--> <div class="text svelte-1jmrx3z" style="top: 0; text-align: right; width: 10px; left: -10px; transform: translate(-3px, calc(-50% + 1px));">6</div></div><!--]--></div><!----><!----></div><!----> <svg viewBox="0 0 100 100" preserveAspectRatio="none" style="right:0px; bottom:0px; top: 0px; left: 25px; width: calc(100% - 25px); height: calc(100% - 20px);" class="svelte-6sm8ei"><!----><!--[!--><!--]--><!----><defs><!----><!----></defs><!----><path class="path-line svelte-1a99x5h" d="M0,8.640406607369755L2.7027027027027026,0.5082592121982255L5.405405405405405,8.005082592121981L8.108108108108109,5.463786531130877L10.81081081081081,4.574332909783996L13.513513513513514,9.783989834815765L16.216216216216218,12.198221092757311L18.91891891891892,4.3202033036848775L21.62162162162162,5.08259212198221L24.324324324324326,4.955527318932651L27.027027027027028,10.673443456162646L29.72972972972973,20.838627700127066L32.432432432432435,16.899618805590855L35.13513513513514,4.19313850063533L37.83783783783784,17.40787801778907L40.54054054054054,8.767471410419315L43.24324324324324,22.236340533672173L45.94594594594595,0L48.64864864864865,14.485387547649298L51.35135135135135,16.772554002541295L54.054054054054056,20.838627700127066L56.75675675675676,19.822109275730625L59.45945945945946,14.35832274459975L62.16216216216216,24.396442185514612L64.86486486486487,22.109275730622624L67.56756756756756,23.25285895806861L70.27027027027027,29.351969504447272L72.97297297297297,24.904701397712834L75.67567567567568,45.489199491740784L78.37837837837837,40.02541296060992L81.08108108108108,31.63913595933927L83.78378378378379,37.484116899618805L86.48648648648648,41.42312579415501L89.1891891891892,54.00254129606099L91.8918918918919,32.02033036848794L94.5945945945946,32.90978398983482L97.2972972972973,41.16899618805591L100,40.02541296060992" stroke="#00e047"></path><!----> <path class="path-area" d="M0,8.640406607369755L2.7027027027027026,0.5082592121982255L5.405405405405405,8.005082592121981L8.108108108108109,5.463786531130877L10.81081081081081,4.574332909783996L13.513513513513514,9.783989834815765L16.216216216216218,12.198221092757311L18.91891891891892,4.3202033036848775L21.62162162162162,5.08259212198221L24.324324324324326,4.955527318932651L27.027027027027028,10.673443456162646L29.72972972972973,20.838627700127066L32.432432432432435,16.899618805590855L35.13513513513514,4.19313850063533L37.83783783783784,17.40787801778907L40.54054054054054,8.767471410419315L43.24324324324324,22.236340533672173L45.94594594594595,0L48.64864864864865,14.485387547649298L51.35135135135135,16.772554002541295L54.054054054054056,20.838627700127066L56.75675675675676,19.822109275730625L59.45945945945946,14.35832274459975L62.16216216216216,24.396442185514612L64.86486486486487,22.109275730622624L67.56756756756756,23.25285895806861L70.27027027027027,29.351969504447272L72.97297297297297,24.904701397712834L75.67567567567568,45.489199491740784L78.37837837837837,40.02541296060992L81.08108108108108,31.63913595933927L83.78378378378379,37.484116899618805L86.48648648648648,41.42312579415501L89.1891891891892,54.00254129606099L91.8918918918919,32.02033036848794L94.5945945945946,32.90978398983482L97.2972972972973,41.16899618805591L100,40.02541296060992L100,100L0,100Z" fill="#00e04710"></path><!----><!----></svg><!----><!----></div><!--]--><!----></div> <div class="brush-container svelte-12vpq9d"><!--[--><div class="layercake-container svelte-vhzpsp" style="position: relative;"><!----><svg viewBox="0 0 100 100" preserveAspectRatio="none" style="right:0px; bottom:0px; top: 5px; left: 0px; width: calc(100% - 0px); height: calc(100% - 5px);" class="svelte-6sm8ei"><!----><!--[!--><!--]--><!----><defs><!----><!----></defs><!----><path class="path-line svelte-1a99x5h" d="M0,8.640406607369755L2.7027027027027026,0.5082592121982255L5.405405405405405,8.005082592121981L8.108108108108109,5.463786531130877L10.81081081081081,4.574332909783996L13.513513513513514,9.783989834815765L16.216216216216218,12.198221092757311L18.91891891891892,4.3202033036848775L21.62162162162162,5.08259212198221L24.324324324324326,4.955527318932651L27.027027027027028,10.673443456162646L29.72972972972973,20.838627700127066L32.432432432432435,16.899618805590855L35.13513513513514,4.19313850063533L37.83783783783784,17.40787801778907L40.54054054054054,8.767471410419315L43.24324324324324,22.236340533672173L45.94594594594595,0L48.64864864864865,14.485387547649298L51.35135135135135,16.772554002541295L54.054054054054056,20.838627700127066L56.75675675675676,19.822109275730625L59.45945945945946,14.35832274459975L62.16216216216216,24.396442185514612L64.86486486486487,22.109275730622624L67.56756756756756,23.25285895806861L70.27027027027027,29.351969504447272L72.97297297297297,24.904701397712834L75.67567567567568,45.489199491740784L78.37837837837837,40.02541296060992L81.08108108108108,31.63913595933927L83.78378378378379,37.484116899618805L86.48648648648648,41.42312579415501L89.1891891891892,54.00254129606099L91.8918918918919,32.02033036848794L94.5945945945946,32.90978398983482L97.2972972972973,41.16899618805591L100,40.02541296060992" stroke="#00e047"></path><!----> <path class="path-area" d="M0,8.640406607369755L2.7027027027027026,0.5082592121982255L5.405405405405405,8.005082592121981L8.108108108108109,5.463786531130877L10.81081081081081,4.574332909783996L13.513513513513514,9.783989834815765L16.216216216216218,12.198221092757311L18.91891891891892,4.3202033036848775L21.62162162162162,5.08259212198221L24.324324324324326,4.955527318932651L27.027027027027028,10.673443456162646L29.72972972972973,20.838627700127066L32.432432432432435,16.899618805590855L35.13513513513514,4.19313850063533L37.83783783783784,17.40787801778907L40.54054054054054,8.767471410419315L43.24324324324324,22.236340533672173L45.94594594594595,0L48.64864864864865,14.485387547649298L51.35135135135135,16.772554002541295L54.054054054054056,20.838627700127066L56.75675675675676,19.822109275730625L59.45945945945946,14.35832274459975L62.16216216216216,24.396442185514612L64.86486486486487,22.109275730622624L67.56756756756756,23.25285895806861L70.27027027027027,29.351969504447272L72.97297297297297,24.904701397712834L75.67567567567568,45.489199491740784L78.37837837837837,40.02541296060992L81.08108108108108,31.63913595933927L83.78378378378379,37.484116899618805L86.48648648648648,41.42312579415501L89.1891891891892,54.00254129606099L91.8918918918919,32.02033036848794L94.5945945945946,32.90978398983482L97.2972972972973,41.16899618805591L100,40.02541296060992L100,100L0,100Z" fill="#00e04710"></path><!----><!----></svg><!----> <div class="layercake-layout-html svelte-1x3xzit" style="top: 5px; right: 0px; bottom: 0px; left: 0px;"><!----><div class="brush-outer svelte-1m1nhvc"><!--[!--><!--]--></div><!----></div><!----><!----></div><!--]--><!----></div><!----></div> <div class="download svelte-78pozx"><button title="download zip file" class="icon svelte-lkwcax" style="background-image: url(/icons/download.svg)">Download      </button><!----></div> <!--[!--><!--]--> <div id="pages" class="svelte-78pozx"><ul id="page-nav" class="svelte-78pozx"><!--[--><li class="tab active svelte-78pozx">+page.svelte</li><li class="tab  svelte-78pozx">./_components/Line.svelte</li><li class="tab  svelte-78pozx">./_components/Area.svelte</li><li class="tab  svelte-78pozx">./_components/AxisX.percent-range.html.svelte</li><li class="tab  svelte-78pozx">./_components/AxisY.percent-range.html.svelte</li><li class="tab  svelte-78pozx">./_components/Brush.html.svelte</li><li class="tab  svelte-78pozx">./_data/points.csv</li><!--]--></ul> <div id="contents-container" class="svelte-78pozx"><div class="copy svelte-78pozx"></div> <!--[--><div class="contents" style="display: block;"><pre class="svelte-78pozx"><!----><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { <span class="hljs-title class_">LayerCake</span>, <span class="hljs-title class_">ScaledSvg</span>, <span class="hljs-title class_">Html</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;layercake&#x27;</span>;

  <span class="hljs-keyword">import</span> <span class="hljs-title class_">Line</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./_components/Line.svelte&#x27;</span>;
  <span class="hljs-keyword">import</span> <span class="hljs-title class_">Area</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./_components/Area.svelte&#x27;</span>;
  <span class="hljs-keyword">import</span> <span class="hljs-title class_">AxisX</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./_components/AxisX.percent-range.html.svelte&#x27;</span>;
  <span class="hljs-keyword">import</span> <span class="hljs-title class_">AxisY</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./_components/AxisY.percent-range.html.svelte&#x27;</span>;
  <span class="hljs-keyword">import</span> <span class="hljs-title class_">Brush</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./_components/Brush.html.svelte&#x27;</span>;

  <span class="hljs-comment">// This example loads csv data as json using @rollup/plugin-dsv</span>
  <span class="hljs-keyword">import</span> data <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./_data/points.csv&#x27;</span>;

  <span class="hljs-keyword">let</span> brushExtents = [<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>];

  <span class="hljs-keyword">const</span> xKey = <span class="hljs-string">&#x27;myX&#x27;</span>;
  <span class="hljs-keyword">const</span> yKey = <span class="hljs-string">&#x27;myY&#x27;</span>;

  data.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> {
    d[yKey] = +d[yKey];
  });

  <span class="hljs-keyword">let</span> brushedData;
</span><span class="hljs-keyword">  $: </span><span class="language-javascript">{
    brushedData = data.<span class="hljs-title function_">slice</span>(
      (brushExtents[<span class="hljs-number">0</span>] || <span class="hljs-number">0</span>) * data.<span class="hljs-property">length</span>,
      (brushExtents[<span class="hljs-number">1</span>] || <span class="hljs-number">1</span>) * data.<span class="hljs-property">length</span>
    );
    <span class="hljs-keyword">if</span> (brushedData.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) {
      brushedData = data.<span class="hljs-title function_">slice</span>(brushExtents[<span class="hljs-number">0</span>] * data.<span class="hljs-property">length</span>, brushExtents[<span class="hljs-number">0</span>] * data.<span class="hljs-property">length</span> + <span class="hljs-number">2</span>);
    }
  }
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;brushed-chart-container&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">LayerCake</span>
    <span class="hljs-attr">ssr</span>
    <span class="hljs-attr">percentRange</span>
    <span class="hljs-attr">padding</span>=</span></span><span class="language-javascript">{{ <span class="hljs-attr">bottom</span>: <span class="hljs-number">20</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">25</span> }}</span><span class="language-xml"><span class="hljs-tag">
    <span class="hljs-attr">x</span>=</span></span><span class="language-javascript">{xKey}</span><span class="language-xml"><span class="hljs-tag">
    <span class="hljs-attr">y</span>=</span></span><span class="language-javascript">{yKey}</span><span class="language-xml"><span class="hljs-tag">
    <span class="hljs-attr">yDomain</span>=</span></span><span class="language-javascript">{[<span class="hljs-number">0</span>, <span class="hljs-literal">null</span>]}</span><span class="language-xml"><span class="hljs-tag">
    <span class="hljs-attr">data</span>=</span></span><span class="language-javascript">{brushedData}</span><span class="language-xml"><span class="hljs-tag">
  &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Html</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AxisX</span>
        <span class="hljs-attr">ticks</span>=</span></span><span class="language-javascript">{<span class="hljs-function"><span class="hljs-params">ticks</span> =&gt;</span> {
          <span class="hljs-keyword">const</span> filtered = ticks.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t % <span class="hljs-number">1</span> === <span class="hljs-number">0</span>);
          <span class="hljs-keyword">if</span> (filtered.<span class="hljs-property">length</span> &gt; <span class="hljs-number">7</span>) {
            <span class="hljs-keyword">return</span> filtered.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">t, i</span>) =&gt;</span> i % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>);
          }
          <span class="hljs-keyword">return</span> filtered;
        }</span><span class="language-xml"><span class="hljs-tag">}
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">AxisY</span> <span class="hljs-attr">ticks</span>=</span></span><span class="language-javascript">{<span class="hljs-number">4</span>}</span><span class="language-xml"><span class="hljs-tag"> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Html</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ScaledSvg</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Line</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">&quot;#00e047&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Area</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;#00e04710&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScaledSvg</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">LayerCake</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;brush-container&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">LayerCake</span> <span class="hljs-attr">ssr</span> <span class="hljs-attr">percentRange</span> <span class="hljs-attr">padding</span>=</span></span><span class="language-javascript">{{ <span class="hljs-attr">top</span>: <span class="hljs-number">5</span> }}</span><span class="language-xml"><span class="hljs-tag"> <span class="hljs-attr">x</span>=</span></span><span class="language-javascript">{xKey}</span><span class="language-xml"><span class="hljs-tag"> <span class="hljs-attr">y</span>=</span></span><span class="language-javascript">{yKey}</span><span class="language-xml"><span class="hljs-tag"> <span class="hljs-attr">yDomain</span>=</span></span><span class="language-javascript">{[<span class="hljs-number">0</span>, <span class="hljs-literal">null</span>]}</span><span class="language-xml"><span class="hljs-tag"> </span></span><span class="language-javascript">{data}</span><span class="language-xml"><span class="hljs-tag">&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ScaledSvg</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Line</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">&quot;#00e047&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Area</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">&quot;#00e04710&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScaledSvg</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Html</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Brush</span> <span class="hljs-attr">bind:min</span>=</span></span><span class="language-javascript">{brushExtents[<span class="hljs-number">0</span>]}</span><span class="language-xml"><span class="hljs-tag"> <span class="hljs-attr">bind:max</span>=</span></span><span class="language-javascript">{brushExtents[<span class="hljs-number">1</span>]}</span><span class="language-xml"><span class="hljs-tag"> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Html</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">LayerCake</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><span class="language-css">
  <span class="hljs-comment">/*
    The wrapper div needs to have an explicit width and height in CSS.
    It can also be a flexbox child or CSS grid element.
    The point being it needs dimensions since the &lt;LayerCake&gt; element will
    expand to fill it.
  */</span>
  <span class="hljs-selector-class">.brushed-chart-container</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">80%</span>;
  }
  <span class="hljs-selector-class">.brush-container</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">20%</span>;
  }
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><!----></pre></div><div class="contents" style="display: none;"><pre class="svelte-78pozx"><!----><span class="hljs-comment">&lt;!--
  @component
  Generates an SVG line shape.
 --&gt;</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { getContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;svelte&#x27;</span>;

  <span class="hljs-keyword">const</span> { data, xGet, yGet } = <span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;LayerCake&#x27;</span>);

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">String</span>} [stroke=&#x27;#ab00d6&#x27;] - The shape&#x27;s fill color. This is technically optional because it comes with a default value but you&#x27;ll likely want to replace it with your own color. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> stroke = <span class="hljs-string">&#x27;#ab00d6&#x27;</span>;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">path =
    <span class="hljs-string">&#x27;M&#x27;</span> +
    $data
      .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> {
        <span class="hljs-keyword">return</span> $xGet(d) + <span class="hljs-string">&#x27;,&#x27;</span> + $yGet(d);
      })
      .<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;L&#x27;</span>);
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;path-line&quot;</span> <span class="hljs-attr">d</span>=</span></span><span class="language-javascript">{path}</span><span class="language-xml"><span class="hljs-tag"> </span></span><span class="language-javascript">{stroke}</span><span class="language-xml"><span class="hljs-tag">&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><span class="language-css">
  <span class="hljs-selector-class">.path-line</span> {
    <span class="hljs-attribute">fill</span>: none;
    <span class="hljs-attribute">stroke-linejoin</span>: round;
    <span class="hljs-attribute">stroke-linecap</span>: round;
    <span class="hljs-attribute">stroke-width</span>: <span class="hljs-number">2</span>;
  }
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><!----></pre></div><div class="contents" style="display: none;"><pre class="svelte-78pozx"><!----><span class="hljs-comment">&lt;!--
  @component
  Generates an SVG area shape.
 --&gt;</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { getContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;svelte&#x27;</span>;

  <span class="hljs-keyword">const</span> { data, xGet, yGet, xScale, yScale, extents } = <span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;LayerCake&#x27;</span>);

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">String</span>} [fill=&#x27;#ab00d610&#x27;] - The shape&#x27;s fill color. This is technically optional because it comes with a default value but you&#x27;ll likely want to replace it with your own color. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> fill = <span class="hljs-string">&#x27;#ab00d610&#x27;</span>;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">path =
    <span class="hljs-string">&#x27;M&#x27;</span> +
    $data
      .<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> {
        <span class="hljs-keyword">return</span> $xGet(d) + <span class="hljs-string">&#x27;,&#x27;</span> + $yGet(d);
      })
      .<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;L&#x27;</span>);

  <span class="hljs-comment">/**  <span class="hljs-doctag">@type</span> {<span class="hljs-type">String</span>} **/</span>
  <span class="hljs-keyword">let</span> area;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">{
    <span class="hljs-keyword">const</span> yRange = $yScale.<span class="hljs-title function_">range</span>();
    area =
      path +
      (<span class="hljs-string">&#x27;L&#x27;</span> +
        $xScale($extents.<span class="hljs-property">x</span> ? $extents.<span class="hljs-property">x</span>[<span class="hljs-number">1</span>] : <span class="hljs-number">0</span>) +
        <span class="hljs-string">&#x27;,&#x27;</span> +
        yRange[<span class="hljs-number">0</span>] +
        <span class="hljs-string">&#x27;L&#x27;</span> +
        $xScale($extents.<span class="hljs-property">x</span> ? $extents.<span class="hljs-property">x</span>[<span class="hljs-number">0</span>] : <span class="hljs-number">0</span>) +
        <span class="hljs-string">&#x27;,&#x27;</span> +
        yRange[<span class="hljs-number">0</span>] +
        <span class="hljs-string">&#x27;Z&#x27;</span>);
  }
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;path-area&quot;</span> <span class="hljs-attr">d</span>=</span></span><span class="language-javascript">{area}</span><span class="language-xml"><span class="hljs-tag"> </span></span><span class="language-javascript">{fill}</span><span class="language-xml"><span class="hljs-tag">&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">path</span>&gt;</span></span><!----></pre></div><div class="contents" style="display: none;"><pre class="svelte-78pozx"><!----><span class="hljs-comment">&lt;!--
  @component
  Generates an HTML x-axis, useful for server-side rendered charts. This component is also configured to detect if your x-scale is an ordinal scale. If so, it will place the markers in the middle of the bandwidth.

  Although this is marked as a percent-range component, you can also use it with a normal scale with no configuration needed. By default, if you have `percentRange={true}` it will use percentages, otherwise it will use pixels. This makes this component compatible with server-side and client-side rendered charts. Set the `units` prop to either `&#x27;%&#x27;` or `&#x27;px&#x27;` to override the default behavior.
 --&gt;</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { getContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;svelte&#x27;</span>;

  <span class="hljs-keyword">const</span> { xScale, percentRange } = <span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;LayerCake&#x27;</span>);

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">boolean</span>} [tickMarks=false] - Show a vertical mark for each tick. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> tickMarks = <span class="hljs-literal">false</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">boolean</span>} [gridlines=true] - Show gridlines extending into the chart area. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> gridlines = <span class="hljs-literal">true</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [tickMarkLength=6] - The length of the tick mark. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> tickMarkLength = <span class="hljs-number">6</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">boolean</span>} [baseline=false] - Show a solid line at the bottom. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> baseline = <span class="hljs-literal">false</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">boolean</span>} [snapLabels=false] - Instead of centering the text labels on the first and the last items, align them to the edges of the chart. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> snapLabels = <span class="hljs-literal">false</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">(d: any) =&gt; string</span>} [format=d =&gt; d] - A function that passes the current tick value and expects a nicely formatted value in return. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-title function_">format</span> = d =&gt; d;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number|Array&lt;any&gt;|Function|undefined</span>} [ticks] - If this is a number, it passes that along to the [d3Scale.ticks](https://github.com/d3/d3-scale) function. If this is an array, hardcodes the ticks to those values. If it&#x27;s a function, passes along the default tick values and expects an array of tick values in return. If nothing, it uses the default ticks supplied by the D3 function. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> ticks = <span class="hljs-literal">undefined</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [tickGutter=0] - The amount of whitespace between the start of the tick and the chart drawing area (the yRange min). */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> tickGutter = <span class="hljs-number">0</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [dx=0] - Any optional value passed to the `dx` attribute on the text label. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> dx = <span class="hljs-number">0</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [dy=0] - Any optional value passed to the `dy` attribute on the text label. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> dy = <span class="hljs-number">0</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">String</span>} <span class="hljs-variable">units</span> - Whether this component should use percentage or pixel values. If `percentRange={true}` it defaults to `&#x27;%&#x27;`. Options: `&#x27;%&#x27;` or `&#x27;px&#x27;`. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> units = $percentRange === <span class="hljs-literal">true</span> ? <span class="hljs-string">&#x27;%&#x27;</span> : <span class="hljs-string">&#x27;px&#x27;</span>;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">tickLen = tickMarks === <span class="hljs-literal">true</span> ? (tickMarkLength ?? <span class="hljs-number">6</span>) : <span class="hljs-number">0</span>;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">isBandwidth = <span class="hljs-keyword">typeof</span> $xScale.<span class="hljs-property">bandwidth</span> === <span class="hljs-string">&#x27;function&#x27;</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Array&lt;any&gt;</span>} */</span>
</span><span class="hljs-keyword">  $: </span><span class="language-javascript">tickVals = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(ticks)
    ? ticks
    : isBandwidth
      ? $xScale.<span class="hljs-title function_">domain</span>()
      : <span class="hljs-keyword">typeof</span> ticks === <span class="hljs-string">&#x27;function&#x27;</span>
        ? <span class="hljs-title function_">ticks</span>($xScale.<span class="hljs-title function_">ticks</span>())
        : $xScale.<span class="hljs-title function_">ticks</span>(ticks);
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">halfBand = isBandwidth ? $xScale.<span class="hljs-title function_">bandwidth</span>() / <span class="hljs-number">2</span> : <span class="hljs-number">0</span>;
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;axis x-axis&quot;</span> <span class="hljs-attr">class:snapLabels</span>&gt;</span>
  </span><span class="language-javascript">{</span><span class="hljs-keyword">#each</span><span class="language-javascript"> tickVals <span class="hljs-keyword">as</span> tick, <span class="hljs-title function_">i</span> (tick)}</span><span class="language-xml">
    </span><span class="language-javascript">{@<span class="hljs-keyword">const</span> tickValUnits = $xScale(tick)}</span><span class="language-xml">

    </span><span class="language-javascript">{</span><span class="hljs-keyword">#if</span><span class="language-javascript"> baseline === <span class="hljs-literal">true</span>}</span><span class="language-xml">
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;baseline&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;top:100%; width:100%;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    </span><span class="language-javascript">{</span><span class="hljs-keyword">/if</span><span class="language-javascript">}</span><span class="language-xml">

    </span><span class="language-javascript">{</span><span class="hljs-keyword">#if</span><span class="language-javascript"> gridlines === <span class="hljs-literal">true</span>}</span><span class="language-xml">
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;gridline&quot;</span> <span class="hljs-attr">style:left</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{tickValUnits}</span><span class="language-javascript">{units}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;top:0; bottom:0;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    </span><span class="language-javascript">{</span><span class="hljs-keyword">/if</span><span class="language-javascript">}</span><span class="language-xml">
    </span><span class="language-javascript">{</span><span class="hljs-keyword">#if</span><span class="language-javascript"> tickMarks === <span class="hljs-literal">true</span>}</span><span class="language-xml">
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tick-mark&quot;</span>
        <span class="hljs-attr">style:left</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{tickValUnits + halfBand}</span><span class="language-javascript">{units}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>
        <span class="hljs-attr">style:height</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{tickLen}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span>
        <span class="hljs-attr">style:bottom</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{-tickLen - tickGutter}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span>
      &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    </span><span class="language-javascript">{</span><span class="hljs-keyword">/if</span><span class="language-javascript">}</span><span class="language-xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tick tick-</span></span></span><span class="language-javascript">{i}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>
      <span class="hljs-attr">style:left</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{tickValUnits + halfBand}</span><span class="language-javascript">{units}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;top:calc(100% + </span></span></span><span class="language-javascript">{tickGutter}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px);&quot;</span>
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text&quot;</span>
        <span class="hljs-attr">style:top</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{tickLen}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span>
        <span class="hljs-attr">style:transform</span>=<span class="hljs-string">&quot;translate(calc(-50% + </span></span></span><span class="language-javascript">{dx}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px), </span></span></span><span class="language-javascript">{dy}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px)&quot;</span>
      &gt;</span>
        </span><span class="language-javascript">{<span class="hljs-title function_">format</span>(tick)}</span><span class="language-xml">
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  </span><span class="language-javascript">{</span><span class="hljs-keyword">/each</span><span class="language-javascript">}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><span class="language-css">
  <span class="hljs-selector-class">.axis</span>,
  <span class="hljs-selector-class">.tick</span>,
  <span class="hljs-selector-class">.tick-mark</span>,
  <span class="hljs-selector-class">.gridline</span>,
  <span class="hljs-selector-class">.baseline</span> {
    <span class="hljs-attribute">position</span>: absolute;
  }
  <span class="hljs-selector-class">.axis</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  }
  <span class="hljs-selector-class">.tick</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">11px</span>;
  }

  <span class="hljs-selector-class">.gridline</span> {
    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-number">#aaa</span>;
  }

  <span class="hljs-selector-class">.tick-mark</span> {
    <span class="hljs-attribute">border-left</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#aaa</span>;
  }
  <span class="hljs-selector-class">.baseline</span> {
    <span class="hljs-attribute">border-top</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#aaa</span>;
  }

  <span class="hljs-selector-class">.tick</span> <span class="hljs-selector-class">.text</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">white-space</span>: nowrap;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">50%</span>);
  }
  <span class="hljs-comment">/* This looks a little better at 40 percent than 50 */</span>
  <span class="hljs-selector-class">.axis</span><span class="hljs-selector-class">.snapLabels</span> <span class="hljs-selector-class">.tick</span><span class="hljs-selector-pseudo">:last-child</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(-<span class="hljs-number">40%</span>);
  }
  <span class="hljs-selector-class">.axis</span><span class="hljs-selector-class">.snapLabels</span> <span class="hljs-selector-class">.tick</span><span class="hljs-selector-class">.tick-0</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">40%</span>);
  }
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><!----></pre></div><div class="contents" style="display: none;"><pre class="svelte-78pozx"><!----><span class="hljs-comment">&lt;!--
  @component
  Generates an HTML y-axis. This component is also configured to detect if your y-scale is an ordinal scale. If so, it will place the tickMarks in the middle of the bandwidth.

  Although this is marked as a percent-range component, you can also use it with a normal scale with no configuration needed. By default, if you have `percentRange={true}` it will use percentages, otherwise it will use pixels. This makes this component compatible with server-side and client-side rendered charts. Set the `units` prop to either `&#x27;%&#x27;` or `&#x27;px&#x27;` to override the default behavior.
 --&gt;</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { getContext } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;svelte&#x27;</span>;

  <span class="hljs-keyword">const</span> { xRange, yScale, percentRange } = <span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;LayerCake&#x27;</span>);

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">boolean</span>} [tickMarks=false] - Show marks next to the tick label. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> tickMarks = <span class="hljs-literal">false</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">String</span>} [labelPosition=&#x27;even&#x27;] - Whether the label sits even with its value (&#x27;even&#x27;) or sits on top (&#x27;above&#x27;) the tick mark. Default is &#x27;even&#x27;. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> labelPosition = <span class="hljs-string">&#x27;even&#x27;</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">boolean</span>} [snapBaselineLabel=false] - When labelPosition=&#x27;even&#x27;, adjust the lowest label so that it sits above the tick mark. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> snapBaselineLabel = <span class="hljs-literal">false</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">boolean</span>} [gridlines=true] - Show gridlines extending into the chart area. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> gridlines = <span class="hljs-literal">true</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number|undefined</span>} [tickMarkLength=undefined] - The length of the tick mark. If not set, becomes the length of the widest tick. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> tickMarkLength = <span class="hljs-literal">undefined</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">(d: any) =&gt; string</span>} [format=d =&gt; d] - A function that passes the current tick value and expects a nicely formatted value in return. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> <span class="hljs-title function_">format</span> = d =&gt; d;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number|Array&lt;any&gt;|Function</span>} [ticks=4] - If this is a number, it passes that along to the [d3Scale.ticks](https://github.com/d3/d3-scale) function. If this is an array, hardcodes the ticks to those values. If it&#x27;s a function, passes along the default tick values and expects an array of tick values in return. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> ticks = <span class="hljs-number">4</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [tickGutter=0] - The amount of whitespace between the start of the tick and the chart drawing area (the xRange min). */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> tickGutter = <span class="hljs-number">0</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [dx=0] - Any optional value passed to the `dx` attribute on the text label. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> dx = <span class="hljs-number">0</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [dy=-3] - Any optional value passed to the `dy` attribute on the text label. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> dy = -<span class="hljs-number">3</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} [charPixelWidth=7.25] - Used to calculate the widest label length to offset labels. Adjust if the automatic tick length doesn&#x27;t look right because you have a bigger font (or just set `tickMarkLength` to a pixel value). */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> charPixelWidth = <span class="hljs-number">7.25</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">String</span>} <span class="hljs-variable">units</span> - Whether this component should use percentage or pixel values. If `percentRange={true}` it defaults to `&#x27;%&#x27;`. Options: `&#x27;%&#x27;` or `&#x27;px&#x27;`. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> units = $percentRange === <span class="hljs-literal">true</span> ? <span class="hljs-string">&#x27;%&#x27;</span> : <span class="hljs-string">&#x27;px&#x27;</span>;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">isBandwidth = <span class="hljs-keyword">typeof</span> $yScale.<span class="hljs-property">bandwidth</span> === <span class="hljs-string">&#x27;function&#x27;</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Array&lt;any&gt;</span>} */</span>
</span><span class="hljs-keyword">  $: </span><span class="language-javascript">tickVals = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(ticks)
    ? ticks
    : isBandwidth
      ? $yScale.<span class="hljs-title function_">domain</span>()
      : <span class="hljs-keyword">typeof</span> ticks === <span class="hljs-string">&#x27;function&#x27;</span>
        ? <span class="hljs-title function_">ticks</span>($yScale.<span class="hljs-title function_">ticks</span>())
        : $yScale.<span class="hljs-title function_">ticks</span>(ticks);

  <span class="hljs-comment">/** <span class="hljs-doctag">@param</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">sum</span>
   *  <span class="hljs-doctag">@param</span> {<span class="hljs-type">String</span>} val */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">calcStringLength</span>(<span class="hljs-params">sum, val</span>) {
    <span class="hljs-keyword">if</span> (val === <span class="hljs-string">&#x27;,&#x27;</span> || val === <span class="hljs-string">&#x27;.&#x27;</span>) <span class="hljs-keyword">return</span> sum + charPixelWidth * <span class="hljs-number">0.5</span>;
    <span class="hljs-keyword">return</span> sum + charPixelWidth;
  }
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">tickLen =
    tickMarks === <span class="hljs-literal">true</span>
      ? labelPosition === <span class="hljs-string">&#x27;above&#x27;</span>
        ? (tickMarkLength ?? widestTickLen)
        : (tickMarkLength ?? <span class="hljs-number">6</span>)
      : <span class="hljs-number">0</span>;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">widestTickLen = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(
    <span class="hljs-number">10</span>,
    <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...tickVals.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">d</span> =&gt;</span> <span class="hljs-title function_">format</span>(d).<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">reduce</span>(calcStringLength, <span class="hljs-number">0</span>)))
  );
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">x1 = -tickGutter - (labelPosition === <span class="hljs-string">&#x27;above&#x27;</span> ? widestTickLen : tickLen);
</span><span class="hljs-keyword">  $: </span><span class="language-javascript">halfBand = isBandwidth ? $yScale.<span class="hljs-title function_">bandwidth</span>() / <span class="hljs-number">2</span> : <span class="hljs-number">0</span>;
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">maxTickValUnits = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...tickVals.<span class="hljs-title function_">map</span>($yScale));
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;axis y-axis&quot;</span>&gt;</span>
  </span><span class="language-javascript">{</span><span class="hljs-keyword">#each</span><span class="language-javascript"> tickVals <span class="hljs-keyword">as</span> tick, <span class="hljs-title function_">i</span> (tick)}</span><span class="language-xml">
    </span><span class="language-javascript">{@<span class="hljs-keyword">const</span> tickValUnits = $yScale(tick)}</span><span class="language-xml">

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tick tick-</span></span></span><span class="language-javascript">{i}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;left:</span></span></span><span class="language-javascript">{$xRange[<span class="hljs-number">0</span>]}</span><span class="language-javascript">{units}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">;top:</span></span></span><span class="language-javascript">{tickValUnits + halfBand}</span><span class="language-javascript">{units}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">;&quot;</span>
    &gt;</span>
      </span><span class="language-javascript">{</span><span class="hljs-keyword">#if</span><span class="language-javascript"> gridlines === <span class="hljs-literal">true</span>}</span><span class="language-xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;gridline&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;top:0;&quot;</span> <span class="hljs-attr">style:left</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{x1}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span> <span class="hljs-attr">style:right</span>=<span class="hljs-string">&quot;0px&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      </span><span class="language-javascript">{</span><span class="hljs-keyword">/if</span><span class="language-javascript">}</span><span class="language-xml">
      </span><span class="language-javascript">{</span><span class="hljs-keyword">#if</span><span class="language-javascript"> tickMarks === <span class="hljs-literal">true</span>}</span><span class="language-xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tick-mark&quot;</span> <span class="hljs-attr">style:top</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">style:left</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{x1}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span> <span class="hljs-attr">style:width</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{tickLen}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      </span><span class="language-javascript">{</span><span class="hljs-keyword">/if</span><span class="language-javascript">}</span><span class="language-xml">
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;text&quot;</span>
        <span class="hljs-attr">style:top</span>=<span class="hljs-string">&quot;0&quot;</span>
        <span class="hljs-attr">style:text-align</span>=</span></span><span class="language-javascript">{labelPosition === <span class="hljs-string">&#x27;even&#x27;</span> ? <span class="hljs-string">&#x27;right&#x27;</span> : <span class="hljs-string">&#x27;left&#x27;</span>}</span><span class="language-xml"><span class="hljs-tag">
        <span class="hljs-attr">style:width</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{widestTickLen}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span>
        <span class="hljs-attr">style:left</span>=<span class="hljs-string">&quot;</span></span></span><span class="language-javascript">{-widestTickLen - tickGutter - (labelPosition === <span class="hljs-string">&#x27;even&#x27;</span> ? tickLen : <span class="hljs-number">0</span>)}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px&quot;</span>
        <span class="hljs-attr">style:transform</span>=<span class="hljs-string">&quot;translate(</span></span></span><span class="language-javascript">{dx + (labelPosition === <span class="hljs-string">&#x27;even&#x27;</span> ? -<span class="hljs-number">3</span> : <span class="hljs-number">0</span>)}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px, calc(-50% + </span></span></span><span class="language-javascript">{dy +
          (labelPosition === <span class="hljs-string">&#x27;above&#x27;</span> ||
          (snapBaselineLabel === <span class="hljs-literal">true</span> &amp;&amp; tickValUnits === maxTickValUnits)
            ? -<span class="hljs-number">3</span>
            : <span class="hljs-number">4</span>)}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">px))&quot;</span>
      &gt;</span>
        </span><span class="language-javascript">{<span class="hljs-title function_">format</span>(tick)}</span><span class="language-xml">
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  </span><span class="language-javascript">{</span><span class="hljs-keyword">/each</span><span class="language-javascript">}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><span class="language-css">
  <span class="hljs-selector-class">.axis</span>,
  <span class="hljs-selector-class">.tick</span>,
  <span class="hljs-selector-class">.tick-mark</span>,
  <span class="hljs-selector-class">.gridline</span>,
  <span class="hljs-selector-class">.baseline</span>,
  <span class="hljs-selector-class">.text</span> {
    <span class="hljs-attribute">position</span>: absolute;
  }
  <span class="hljs-selector-class">.axis</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  }
  <span class="hljs-selector-class">.tick</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">11px</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  }

  <span class="hljs-selector-class">.gridline</span> {
    <span class="hljs-attribute">border-top</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-number">#aaa</span>;
  }
  <span class="hljs-selector-class">.tick-mark</span> {
    <span class="hljs-attribute">border-top</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#aaa</span>;
  }

  <span class="hljs-selector-class">.baseline</span><span class="hljs-selector-class">.gridline</span> {
    <span class="hljs-attribute">border-top-style</span>: solid;
  }

  <span class="hljs-selector-class">.tick</span> <span class="hljs-selector-class">.text</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
  }
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><!----></pre></div><div class="contents" style="display: none;"><pre class="svelte-78pozx"><!----><span class="hljs-comment">&lt;!--
  @component
  Adds a brush component to create a range between 0 and 1. Bind to the `min` and `max` props to use them in other components. See the [brushable example](https://layercake.graphcics/example/Brush) for use.
 --&gt;</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><span class="language-javascript">
  <span class="hljs-keyword">import</span> { clamp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;yootils&#x27;</span>;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">min</span> - The brush&#x27;s min value. Useful to bind to. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> min;

  <span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">Number</span>} <span class="hljs-variable">max</span> - The brush&#x27;s max value. Useful to bind to. */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> max;

  <span class="hljs-keyword">let</span> brush;

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">p</span> = x =&gt; {
    <span class="hljs-keyword">const</span> { left, right } = brush.<span class="hljs-title function_">getBoundingClientRect</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">clamp</span>((x - left) / (right - left), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = fn =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (e.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;touchstart&#x27;</span>) {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">touches</span>.<span class="hljs-property">length</span> !== <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;
        e = e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>];
      }

      <span class="hljs-keyword">const</span> id = e.<span class="hljs-property">identifier</span>;
      <span class="hljs-keyword">const</span> start = { min, max, <span class="hljs-attr">p</span>: <span class="hljs-title function_">p</span>(e.<span class="hljs-property">clientX</span>) };

      <span class="hljs-keyword">const</span> <span class="hljs-title function_">handle_move</span> = e =&gt; {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;touchmove&#x27;</span>) {
          <span class="hljs-keyword">if</span> (e.<span class="hljs-property">changedTouches</span>.<span class="hljs-property">length</span> !== <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;
          e = e.<span class="hljs-property">changedTouches</span>[<span class="hljs-number">0</span>];
          <span class="hljs-keyword">if</span> (e.<span class="hljs-property">identifier</span> !== id) <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-title function_">fn</span>(start, <span class="hljs-title function_">p</span>(e.<span class="hljs-property">clientX</span>));
      };

      <span class="hljs-keyword">const</span> <span class="hljs-title function_">handle_end</span> = e =&gt; {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;touchend&#x27;</span>) {
          <span class="hljs-keyword">if</span> (e.<span class="hljs-property">changedTouches</span>.<span class="hljs-property">length</span> !== <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;
          <span class="hljs-keyword">if</span> (e.<span class="hljs-property">changedTouches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">identifier</span> !== id) <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span> === brush) {
          <span class="hljs-title function_">clear</span>();
        }

        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>, handle_move);
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;mouseup&#x27;</span>, handle_end);

        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;touchmove&#x27;</span>, handle_move);
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;touchend&#x27;</span>, handle_end);
      };

      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>, handle_move);
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mouseup&#x27;</span>, handle_end);

      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchmove&#x27;</span>, handle_move);
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;touchend&#x27;</span>, handle_end);
    };
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">clear</span> = (<span class="hljs-params"></span>) =&gt; {
    min = <span class="hljs-literal">null</span>;
    max = <span class="hljs-literal">null</span>;
  };

  <span class="hljs-keyword">const</span> reset = <span class="hljs-title function_">handler</span>(<span class="hljs-function">(<span class="hljs-params">start, p</span>) =&gt;</span> {
    min = <span class="hljs-title function_">clamp</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(start.<span class="hljs-property">p</span>, p), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
    max = <span class="hljs-title function_">clamp</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(start.<span class="hljs-property">p</span>, p), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
  });

  <span class="hljs-keyword">const</span> move = <span class="hljs-title function_">handler</span>(<span class="hljs-function">(<span class="hljs-params">start, p</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> d = <span class="hljs-title function_">clamp</span>(p - start.<span class="hljs-property">p</span>, -start.<span class="hljs-property">min</span>, <span class="hljs-number">1</span> - start.<span class="hljs-property">max</span>);
    min = start.<span class="hljs-property">min</span> + d;
    max = start.<span class="hljs-property">max</span> + d;
  });

  <span class="hljs-keyword">const</span> adjust_min = <span class="hljs-title function_">handler</span>(<span class="hljs-function">(<span class="hljs-params">start, p</span>) =&gt;</span> {
    min = p &gt; start.<span class="hljs-property">max</span> ? start.<span class="hljs-property">max</span> : p;
    max = p &gt; start.<span class="hljs-property">max</span> ? p : start.<span class="hljs-property">max</span>;
  });

  <span class="hljs-keyword">const</span> adjust_max = <span class="hljs-title function_">handler</span>(<span class="hljs-function">(<span class="hljs-params">start, p</span>) =&gt;</span> {
    min = p &lt; start.<span class="hljs-property">min</span> ? p : start.<span class="hljs-property">min</span>;
    max = p &lt; start.<span class="hljs-property">min</span> ? start.<span class="hljs-property">min</span> : p;
  });
</span><span class="hljs-keyword">
  $: </span><span class="language-javascript">left = <span class="hljs-number">100</span> * min;
</span><span class="hljs-keyword">  $: </span><span class="language-javascript">right = <span class="hljs-number">100</span> * (<span class="hljs-number">1</span> - max);
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

</span><span class="hljs-comment">&lt;!-- TODO Add keyboard accessibility. See https://github.com/mhkeller/layercake/pull/258 --&gt;</span><span class="language-xml">
</span><span class="hljs-comment">&lt;!-- svelte-ignore a11y_no_static_element_interactions --&gt;</span><span class="language-xml">
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>
  <span class="hljs-attr">bind:this</span>=</span></span><span class="language-javascript">{brush}</span><span class="language-xml"><span class="hljs-tag">
  <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;brush-outer&quot;</span>
  <span class="hljs-attr">on:mousedown</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{reset}</span><span class="language-xml"><span class="hljs-tag">
  <span class="hljs-attr">on:touchstart</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{reset}</span><span class="language-xml"><span class="hljs-tag">
&gt;</span>
  </span><span class="language-javascript">{</span><span class="hljs-keyword">#if</span><span class="language-javascript"> min !== <span class="hljs-literal">null</span>}</span><span class="language-xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;brush-inner&quot;</span>
      <span class="hljs-attr">on:mousedown</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{move}</span><span class="language-xml"><span class="hljs-tag">
      <span class="hljs-attr">on:touchstart</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{move}</span><span class="language-xml"><span class="hljs-tag">
      <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;left: </span></span></span><span class="language-javascript">{left}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%; right: </span></span></span><span class="language-javascript">{right}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%&quot;</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;brush-handle&quot;</span>
      <span class="hljs-attr">on:mousedown</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{adjust_min}</span><span class="language-xml"><span class="hljs-tag">
      <span class="hljs-attr">on:touchstart</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{adjust_min}</span><span class="language-xml"><span class="hljs-tag">
      <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;left: </span></span></span><span class="language-javascript">{left}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%&quot;</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;brush-handle&quot;</span>
      <span class="hljs-attr">on:mousedown</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{adjust_max}</span><span class="language-xml"><span class="hljs-tag">
      <span class="hljs-attr">on:touchstart</span>|<span class="hljs-attr">stopPropagation</span>=</span></span><span class="language-javascript">{adjust_max}</span><span class="language-xml"><span class="hljs-tag">
      <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;right: </span></span></span><span class="language-javascript">{right}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">%&quot;</span>
    &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  </span><span class="language-javascript">{</span><span class="hljs-keyword">/if</span><span class="language-javascript">}</span><span class="language-xml">
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span></span><span class="language-css">
  <span class="hljs-selector-class">.brush-outer</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> + <span class="hljs-number">5px</span>);
    <span class="hljs-attribute">top</span>: -<span class="hljs-number">5px</span>;
  }

  <span class="hljs-selector-class">.brush-inner</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">cursor</span>: move;
    <span class="hljs-comment">/* mix-blend-mode: difference; */</span>
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#cccccc90</span>;
    <span class="hljs-comment">/* border: 1px solid #000; */</span>
  }

  <span class="hljs-selector-class">.brush-handle</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">cursor</span>: ew-resize;
  }

  <span class="hljs-selector-class">.brush-handle</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">content</span>: <span class="hljs-string">&#x27;&#x27;</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">8px</span>;
    <span class="hljs-attribute">left</span>: -<span class="hljs-number">4px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">background</span>: transparent;
  }
</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><!----></pre></div><div class="contents" style="display: none;"><pre class="svelte-78pozx"><!---->myX,myY
1979,7.19
1980,7.83
1981,7.24
1982,7.44
1983,7.51
1984,7.1
1985,6.91
1986,7.53
1987,7.47
1988,7.48
1989,7.03
1990,6.23
1991,6.54
1992,7.54
1993,6.5
1994,7.18
1995,6.12
1996,7.87
1997,6.73
1998,6.55
1999,6.23
2000,6.31
2001,6.74
2002,5.95
2003,6.13
2004,6.04
2005,5.56
2006,5.91
2007,4.29
2008,4.72
2009,5.38
2010,4.92
2011,4.61
2012,3.62
2013,5.35
2014,5.28
2015,4.63
2016,4.72<!----></pre></div><!--]--></div></div></div><!----><!----></main><!----><!--]--> <!--[!--><!--]--><!--]-->
			<script type="application/json" data-sveltekit-fetched data-url="/api/guide-sections.json">{"status":200,"statusText":"","headers":{},"body":"[{\"html\":null,\"metadata\":{\"title\":\"Introduction\"},\"subsections\":[{\"slug\":\"what-is-layer-cake\",\"title\":\"What is Layer Cake?\"},{\"slug\":\"key-concepts\",\"title\":\"Key Concepts\"},{\"slug\":\"getting-started\",\"title\":\"Getting started\"},{\"slug\":\"using-layout-components\",\"title\":\"Using layout components\"},{\"slug\":\"layer-components\",\"title\":\"Layer components\"},{\"slug\":\"data-less-cakes\",\"title\":\"Data-less cakes\"},{\"slug\":\"server-side-rendering\",\"title\":\"Server-side rendering\"},{\"slug\":\"how-does-layercake-know-what-to-set-as-a-scale39s-domain-and-range\",\"title\":\"How does LayerCake know what to set as a scale's domain and range?\"}],\"slug\":\"introduction\",\"file\":\"00-introduction.md\"},{\"html\":null,\"metadata\":{\"title\":\"Troubleshooting\"},\"subsections\":[{\"slug\":\"use-the-debug-feature\",\"title\":\"Use the debug feature\"},{\"slug\":\"typescript\",\"title\":\"TypeScript\"},{\"slug\":\"the-chart-is-blank\",\"title\":\"The chart is blank\"},{\"slug\":\"the-chart-is-a-very-small-square\",\"title\":\"The chart is a very small square\"},{\"slug\":\"the-library-isn39t-building-properly\",\"title\":\"The library isn't building properly\"},{\"slug\":\"listening-for-click-events-on-the-entire-component\",\"title\":\"Listening for click events on the entire component\"}],\"slug\":\"troubleshooting\",\"file\":\"01-troubleshooting.md\"},{\"html\":null,\"metadata\":{\"title\":\"Accessibility\"},\"subsections\":[{\"slug\":\"layout-attributes\",\"title\":\"Layout attributes\"},{\"slug\":\"html-layouts\",\"title\":\"HTML layouts\"},{\"slug\":\"svg-layouts\",\"title\":\"SVG layouts\"},{\"slug\":\"canvas-and-webgl-layouts\",\"title\":\"Canvas and WebGl layouts\"}],\"slug\":\"accessibility\",\"file\":\"02-accessibility.md\"},{\"html\":null,\"metadata\":{\"title\":\"LayerCake props\"},\"subsections\":[{\"slug\":\"data\",\"title\":\"data\"},{\"slug\":\"x\",\"title\":\"x\"},{\"slug\":\"y\",\"title\":\"y\"},{\"slug\":\"z\",\"title\":\"z\"},{\"slug\":\"r\",\"title\":\"r\"},{\"slug\":\"debug\",\"title\":\"debug\"},{\"slug\":\"padding\",\"title\":\"padding\"},{\"slug\":\"xscale\",\"title\":\"xScale\"},{\"slug\":\"yscale\",\"title\":\"yScale\"},{\"slug\":\"zscale\",\"title\":\"zScale\"},{\"slug\":\"rscale\",\"title\":\"rScale\"},{\"slug\":\"xdomain\",\"title\":\"xDomain\"},{\"slug\":\"ydomain\",\"title\":\"yDomain\"},{\"slug\":\"zdomain\",\"title\":\"zDomain\"},{\"slug\":\"rdomain\",\"title\":\"rDomain\"},{\"slug\":\"xdomainsort\",\"title\":\"xDomainSort\"},{\"slug\":\"ydomainsort\",\"title\":\"yDomainSort\"},{\"slug\":\"zdomainsort\",\"title\":\"zDomainSort\"},{\"slug\":\"rdomainsort\",\"title\":\"rDomainSort\"},{\"slug\":\"xpadding\",\"title\":\"xPadding\"},{\"slug\":\"ypadding\",\"title\":\"yPadding\"},{\"slug\":\"zpadding\",\"title\":\"zPadding\"},{\"slug\":\"rpadding\",\"title\":\"rPadding\"},{\"slug\":\"xnice\",\"title\":\"xNice\"},{\"slug\":\"ynice\",\"title\":\"yNice\"},{\"slug\":\"znice\",\"title\":\"zNice\"},{\"slug\":\"rnice\",\"title\":\"rNice\"},{\"slug\":\"xrange\",\"title\":\"xRange\"},{\"slug\":\"yrange\",\"title\":\"yRange\"},{\"slug\":\"zrange\",\"title\":\"zRange\"},{\"slug\":\"rrange\",\"title\":\"rRange\"},{\"slug\":\"xreverse\",\"title\":\"xReverse\"},{\"slug\":\"yreverse\",\"title\":\"yReverse\"},{\"slug\":\"zreverse\",\"title\":\"zReverse\"},{\"slug\":\"rreverse\",\"title\":\"rReverse\"},{\"slug\":\"extents\",\"title\":\"extents\"},{\"slug\":\"flatdata\",\"title\":\"flatData\"},{\"slug\":\"ssr\",\"title\":\"ssr\"},{\"slug\":\"percentrange\",\"title\":\"percentRange\"},{\"slug\":\"position\",\"title\":\"position\"},{\"slug\":\"custom\",\"title\":\"custom\"}],\"slug\":\"layercake-props\",\"file\":\"03-layercake-props.md\"},{\"html\":null,\"metadata\":{\"title\":\"Computed context values\"},\"subsections\":[{\"slug\":\"activegetters\",\"title\":\"activeGetters\"},{\"slug\":\"aspectratio\",\"title\":\"aspectRatio\"},{\"slug\":\"box\",\"title\":\"box\"},{\"slug\":\"config\",\"title\":\"config\"},{\"slug\":\"containerwidth\",\"title\":\"containerWidth\"},{\"slug\":\"containerheight\",\"title\":\"containerHeight\"},{\"slug\":\"extents-1\",\"title\":\"extents\"},{\"slug\":\"width\",\"title\":\"width\"},{\"slug\":\"height\",\"title\":\"height\"},{\"slug\":\"x-1\",\"title\":\"x\"},{\"slug\":\"y-1\",\"title\":\"y\"},{\"slug\":\"z-1\",\"title\":\"z\"},{\"slug\":\"r-1\",\"title\":\"r\"},{\"slug\":\"xdomain-1\",\"title\":\"xDomain\"},{\"slug\":\"ydomain-1\",\"title\":\"yDomain\"},{\"slug\":\"zdomain-1\",\"title\":\"zDomain\"},{\"slug\":\"rdomain-1\",\"title\":\"rDomain\"},{\"slug\":\"xrange-1\",\"title\":\"xRange\"},{\"slug\":\"yrange-1\",\"title\":\"yRange\"},{\"slug\":\"zrange-1\",\"title\":\"zRange\"},{\"slug\":\"rrange-1\",\"title\":\"rRange\"},{\"slug\":\"xget\",\"title\":\"xGet(...)\"},{\"slug\":\"yget\",\"title\":\"yGet(...)\"},{\"slug\":\"zget\",\"title\":\"zGet(...)\"},{\"slug\":\"rget\",\"title\":\"rGet(...)\"},{\"slug\":\"xscale-1\",\"title\":\"xScale(...)\"},{\"slug\":\"yscale-1\",\"title\":\"yScale(...)\"},{\"slug\":\"zscale-1\",\"title\":\"zScale(...)\"},{\"slug\":\"rscale-1\",\"title\":\"rScale(...)\"}],\"slug\":\"computed-context-values\",\"file\":\"04-computed-context-values.md\"},{\"html\":null,\"metadata\":{\"title\":\"Layout components\"},\"subsections\":[{\"slug\":\"html\",\"title\":\"Html\"},{\"slug\":\"svg\",\"title\":\"Svg\"},{\"slug\":\"scaledsvg\",\"title\":\"ScaledSvg\"},{\"slug\":\"canvas\",\"title\":\"Canvas\"},{\"slug\":\"webgl\",\"title\":\"WebGL\"}],\"slug\":\"layout-components\",\"file\":\"05-layout-components.md\"},{\"html\":null,\"metadata\":{\"title\":\"Layout component props\"},\"subsections\":[{\"slug\":\"zindex\",\"title\":\"zIndex\"},{\"slug\":\"pointerevents\",\"title\":\"pointerEvents\"},{\"slug\":\"viewbox\",\"title\":\"viewBox\"},{\"slug\":\"fixedaspectratio\",\"title\":\"fixedAspectRatio\"},{\"slug\":\"contextattributes\",\"title\":\"contextAttributes\"}],\"slug\":\"layout-component-props\",\"file\":\"06-layout-component-props.md\"},{\"html\":null,\"metadata\":{\"title\":\"Helper functions\"},\"subsections\":[{\"slug\":\"bin\",\"title\":\"bin(...)\"},{\"slug\":\"calcextents\",\"title\":\"calcExtents(...)\"},{\"slug\":\"calcuniques\",\"title\":\"calcUniques(...)\"},{\"slug\":\"flatten\",\"title\":\"flatten(...)\"},{\"slug\":\"grouplonger\",\"title\":\"groupLonger(...)\"},{\"slug\":\"raise\",\"title\":\"raise(...)\"},{\"slug\":\"scalecanvas\",\"title\":\"scaleCanvas(...)\"},{\"slug\":\"stack\",\"title\":\"stack(...)\"},{\"slug\":\"uniques\",\"title\":\"uniques(...)\"}],\"slug\":\"helper-functions\",\"file\":\"99-helper-functions.md\"}]"}</script>
			<script type="application/json" data-sveltekit-fetched data-url="/example-ssr/Brush.json">{"status":200,"statusText":"","headers":{},"body":"{\"main\":{\"title\":\"+page.svelte\",\"contents\":\"\u003Cscript>\\n  import { LayerCake, ScaledSvg, Html } from 'layercake';\\n\\n  import Line from './_components/Line.svelte';\\n  import Area from './_components/Area.svelte';\\n  import AxisX from './_components/AxisX.percent-range.html.svelte';\\n  import AxisY from './_components/AxisY.percent-range.html.svelte';\\n  import Brush from './_components/Brush.html.svelte';\\n\\n  // This example loads csv data as json using @rollup/plugin-dsv\\n  import data from './_data/points.csv';\\n\\n  let brushExtents = [null, null];\\n\\n  const xKey = 'myX';\\n  const yKey = 'myY';\\n\\n  data.forEach(d => {\\n    d[yKey] = +d[yKey];\\n  });\\n\\n  let brushedData;\\n  $: {\\n    brushedData = data.slice(\\n      (brushExtents[0] || 0) * data.length,\\n      (brushExtents[1] || 1) * data.length\\n    );\\n    if (brushedData.length \u003C 2) {\\n      brushedData = data.slice(brushExtents[0] * data.length, brushExtents[0] * data.length + 2);\\n    }\\n  }\\n\u003C/script>\\n\\n\u003Cdiv class=\\\"brushed-chart-container\\\">\\n  \u003CLayerCake\\n    ssr\\n    percentRange\\n    padding={{ bottom: 20, left: 25 }}\\n    x={xKey}\\n    y={yKey}\\n    yDomain={[0, null]}\\n    data={brushedData}\\n  >\\n    \u003CHtml>\\n      \u003CAxisX\\n        ticks={ticks => {\\n          const filtered = ticks.filter(t => t % 1 === 0);\\n          if (filtered.length > 7) {\\n            return filtered.filter((t, i) => i % 2 === 0);\\n          }\\n          return filtered;\\n        }}\\n      />\\n      \u003CAxisY ticks={4} />\\n    \u003C/Html>\\n    \u003CScaledSvg>\\n      \u003CLine stroke=\\\"#00e047\\\" />\\n      \u003CArea fill=\\\"#00e04710\\\" />\\n    \u003C/ScaledSvg>\\n  \u003C/LayerCake>\\n\u003C/div>\\n\\n\u003Cdiv class=\\\"brush-container\\\">\\n  \u003CLayerCake ssr percentRange padding={{ top: 5 }} x={xKey} y={yKey} yDomain={[0, null]} {data}>\\n    \u003CScaledSvg>\\n      \u003CLine stroke=\\\"#00e047\\\" />\\n      \u003CArea fill=\\\"#00e04710\\\" />\\n    \u003C/ScaledSvg>\\n    \u003CHtml>\\n      \u003CBrush bind:min={brushExtents[0]} bind:max={brushExtents[1]} />\\n    \u003C/Html>\\n  \u003C/LayerCake>\\n\u003C/div>\\n\\n\u003Cstyle>\\n  /*\\n    The wrapper div needs to have an explicit width and height in CSS.\\n    It can also be a flexbox child or CSS grid element.\\n    The point being it needs dimensions since the \u003CLayerCake> element will\\n    expand to fill it.\\n  */\\n  .brushed-chart-container {\\n    width: 100%;\\n    height: 80%;\\n  }\\n  .brush-container {\\n    width: 100%;\\n    height: 20%;\\n  }\\n\u003C/style>\"},\"dek\":\"\",\"components\":[{\"title\":\"./_components/Line.svelte\",\"contents\":\"\u003C!--\\n  @component\\n  Generates an SVG line shape.\\n -->\\n\u003Cscript>\\n  import { getContext } from 'svelte';\\n\\n  const { data, xGet, yGet } = getContext('LayerCake');\\n\\n  /** @type {String} [stroke='#ab00d6'] - The shape's fill color. This is technically optional because it comes with a default value but you'll likely want to replace it with your own color. */\\n  export let stroke = '#ab00d6';\\n\\n  $: path =\\n    'M' +\\n    $data\\n      .map(d => {\\n        return $xGet(d) + ',' + $yGet(d);\\n      })\\n      .join('L');\\n\u003C/script>\\n\\n\u003Cpath class=\\\"path-line\\\" d={path} {stroke}>\u003C/path>\\n\\n\u003Cstyle>\\n  .path-line {\\n    fill: none;\\n    stroke-linejoin: round;\\n    stroke-linecap: round;\\n    stroke-width: 2;\\n  }\\n\u003C/style>\"},{\"title\":\"./_components/Area.svelte\",\"contents\":\"\u003C!--\\n  @component\\n  Generates an SVG area shape.\\n -->\\n\u003Cscript>\\n  import { getContext } from 'svelte';\\n\\n  const { data, xGet, yGet, xScale, yScale, extents } = getContext('LayerCake');\\n\\n  /** @type {String} [fill='#ab00d610'] - The shape's fill color. This is technically optional because it comes with a default value but you'll likely want to replace it with your own color. */\\n  export let fill = '#ab00d610';\\n\\n  $: path =\\n    'M' +\\n    $data\\n      .map(d => {\\n        return $xGet(d) + ',' + $yGet(d);\\n      })\\n      .join('L');\\n\\n  /**  @type {String} **/\\n  let area;\\n\\n  $: {\\n    const yRange = $yScale.range();\\n    area =\\n      path +\\n      ('L' +\\n        $xScale($extents.x ? $extents.x[1] : 0) +\\n        ',' +\\n        yRange[0] +\\n        'L' +\\n        $xScale($extents.x ? $extents.x[0] : 0) +\\n        ',' +\\n        yRange[0] +\\n        'Z');\\n  }\\n\u003C/script>\\n\\n\u003Cpath class=\\\"path-area\\\" d={area} {fill}>\u003C/path>\"},{\"title\":\"./_components/AxisX.percent-range.html.svelte\",\"contents\":\"\u003C!--\\n  @component\\n  Generates an HTML x-axis, useful for server-side rendered charts. This component is also configured to detect if your x-scale is an ordinal scale. If so, it will place the markers in the middle of the bandwidth.\\n\\n  Although this is marked as a percent-range component, you can also use it with a normal scale with no configuration needed. By default, if you have `percentRange={true}` it will use percentages, otherwise it will use pixels. This makes this component compatible with server-side and client-side rendered charts. Set the `units` prop to either `'%'` or `'px'` to override the default behavior.\\n -->\\n\u003Cscript>\\n  import { getContext } from 'svelte';\\n\\n  const { xScale, percentRange } = getContext('LayerCake');\\n\\n  /** @type {boolean} [tickMarks=false] - Show a vertical mark for each tick. */\\n  export let tickMarks = false;\\n\\n  /** @type {boolean} [gridlines=true] - Show gridlines extending into the chart area. */\\n  export let gridlines = true;\\n\\n  /** @type {Number} [tickMarkLength=6] - The length of the tick mark. */\\n  export let tickMarkLength = 6;\\n\\n  /** @type {boolean} [baseline=false] - Show a solid line at the bottom. */\\n  export let baseline = false;\\n\\n  /** @type {boolean} [snapLabels=false] - Instead of centering the text labels on the first and the last items, align them to the edges of the chart. */\\n  export let snapLabels = false;\\n\\n  /** @type {(d: any) => string} [format=d => d] - A function that passes the current tick value and expects a nicely formatted value in return. */\\n  export let format = d => d;\\n\\n  /** @type {Number|Array\u003Cany>|Function|undefined} [ticks] - If this is a number, it passes that along to the [d3Scale.ticks](https://github.com/d3/d3-scale) function. If this is an array, hardcodes the ticks to those values. If it's a function, passes along the default tick values and expects an array of tick values in return. If nothing, it uses the default ticks supplied by the D3 function. */\\n  export let ticks = undefined;\\n\\n  /** @type {Number} [tickGutter=0] - The amount of whitespace between the start of the tick and the chart drawing area (the yRange min). */\\n  export let tickGutter = 0;\\n\\n  /** @type {Number} [dx=0] - Any optional value passed to the `dx` attribute on the text label. */\\n  export let dx = 0;\\n\\n  /** @type {Number} [dy=0] - Any optional value passed to the `dy` attribute on the text label. */\\n  export let dy = 0;\\n\\n  /** @type {String} units - Whether this component should use percentage or pixel values. If `percentRange={true}` it defaults to `'%'`. Options: `'%'` or `'px'`. */\\n  export let units = $percentRange === true ? '%' : 'px';\\n\\n  $: tickLen = tickMarks === true ? (tickMarkLength ?? 6) : 0;\\n\\n  $: isBandwidth = typeof $xScale.bandwidth === 'function';\\n\\n  /** @type {Array\u003Cany>} */\\n  $: tickVals = Array.isArray(ticks)\\n    ? ticks\\n    : isBandwidth\\n      ? $xScale.domain()\\n      : typeof ticks === 'function'\\n        ? ticks($xScale.ticks())\\n        : $xScale.ticks(ticks);\\n\\n  $: halfBand = isBandwidth ? $xScale.bandwidth() / 2 : 0;\\n\u003C/script>\\n\\n\u003Cdiv class=\\\"axis x-axis\\\" class:snapLabels>\\n  {#each tickVals as tick, i (tick)}\\n    {@const tickValUnits = $xScale(tick)}\\n\\n    {#if baseline === true}\\n      \u003Cdiv class=\\\"baseline\\\" style=\\\"top:100%; width:100%;\\\">\u003C/div>\\n    {/if}\\n\\n    {#if gridlines === true}\\n      \u003Cdiv class=\\\"gridline\\\" style:left=\\\"{tickValUnits}{units}\\\" style=\\\"top:0; bottom:0;\\\">\u003C/div>\\n    {/if}\\n    {#if tickMarks === true}\\n      \u003Cdiv\\n        class=\\\"tick-mark\\\"\\n        style:left=\\\"{tickValUnits + halfBand}{units}\\\"\\n        style:height=\\\"{tickLen}px\\\"\\n        style:bottom=\\\"{-tickLen - tickGutter}px\\\"\\n      >\u003C/div>\\n    {/if}\\n    \u003Cdiv\\n      class=\\\"tick tick-{i}\\\"\\n      style:left=\\\"{tickValUnits + halfBand}{units}\\\"\\n      style=\\\"top:calc(100% + {tickGutter}px);\\\"\\n    >\\n      \u003Cdiv\\n        class=\\\"text\\\"\\n        style:top=\\\"{tickLen}px\\\"\\n        style:transform=\\\"translate(calc(-50% + {dx}px), {dy}px)\\\"\\n      >\\n        {format(tick)}\\n      \u003C/div>\\n    \u003C/div>\\n  {/each}\\n\u003C/div>\\n\\n\u003Cstyle>\\n  .axis,\\n  .tick,\\n  .tick-mark,\\n  .gridline,\\n  .baseline {\\n    position: absolute;\\n  }\\n  .axis {\\n    width: 100%;\\n    height: 100%;\\n  }\\n  .tick {\\n    font-size: 11px;\\n  }\\n\\n  .gridline {\\n    border-left: 1px dashed #aaa;\\n  }\\n\\n  .tick-mark {\\n    border-left: 1px solid #aaa;\\n  }\\n  .baseline {\\n    border-top: 1px solid #aaa;\\n  }\\n\\n  .tick .text {\\n    color: #666;\\n    position: relative;\\n    white-space: nowrap;\\n    transform: translateX(-50%);\\n  }\\n  /* This looks a little better at 40 percent than 50 */\\n  .axis.snapLabels .tick:last-child {\\n    transform: translateX(-40%);\\n  }\\n  .axis.snapLabels .tick.tick-0 {\\n    transform: translateX(40%);\\n  }\\n\u003C/style>\"},{\"title\":\"./_components/AxisY.percent-range.html.svelte\",\"contents\":\"\u003C!--\\n  @component\\n  Generates an HTML y-axis. This component is also configured to detect if your y-scale is an ordinal scale. If so, it will place the tickMarks in the middle of the bandwidth.\\n\\n  Although this is marked as a percent-range component, you can also use it with a normal scale with no configuration needed. By default, if you have `percentRange={true}` it will use percentages, otherwise it will use pixels. This makes this component compatible with server-side and client-side rendered charts. Set the `units` prop to either `'%'` or `'px'` to override the default behavior.\\n -->\\n\u003Cscript>\\n  import { getContext } from 'svelte';\\n\\n  const { xRange, yScale, percentRange } = getContext('LayerCake');\\n\\n  /** @type {boolean} [tickMarks=false] - Show marks next to the tick label. */\\n  export let tickMarks = false;\\n\\n  /** @type {String} [labelPosition='even'] - Whether the label sits even with its value ('even') or sits on top ('above') the tick mark. Default is 'even'. */\\n  export let labelPosition = 'even';\\n\\n  /** @type {boolean} [snapBaselineLabel=false] - When labelPosition='even', adjust the lowest label so that it sits above the tick mark. */\\n  export let snapBaselineLabel = false;\\n\\n  /** @type {boolean} [gridlines=true] - Show gridlines extending into the chart area. */\\n  export let gridlines = true;\\n\\n  /** @type {Number|undefined} [tickMarkLength=undefined] - The length of the tick mark. If not set, becomes the length of the widest tick. */\\n  export let tickMarkLength = undefined;\\n\\n  /** @type {(d: any) => string} [format=d => d] - A function that passes the current tick value and expects a nicely formatted value in return. */\\n  export let format = d => d;\\n\\n  /** @type {Number|Array\u003Cany>|Function} [ticks=4] - If this is a number, it passes that along to the [d3Scale.ticks](https://github.com/d3/d3-scale) function. If this is an array, hardcodes the ticks to those values. If it's a function, passes along the default tick values and expects an array of tick values in return. */\\n  export let ticks = 4;\\n\\n  /** @type {Number} [tickGutter=0] - The amount of whitespace between the start of the tick and the chart drawing area (the xRange min). */\\n  export let tickGutter = 0;\\n\\n  /** @type {Number} [dx=0] - Any optional value passed to the `dx` attribute on the text label. */\\n  export let dx = 0;\\n\\n  /** @type {Number} [dy=-3] - Any optional value passed to the `dy` attribute on the text label. */\\n  export let dy = -3;\\n\\n  /** @type {Number} [charPixelWidth=7.25] - Used to calculate the widest label length to offset labels. Adjust if the automatic tick length doesn't look right because you have a bigger font (or just set `tickMarkLength` to a pixel value). */\\n  export let charPixelWidth = 7.25;\\n\\n  /** @type {String} units - Whether this component should use percentage or pixel values. If `percentRange={true}` it defaults to `'%'`. Options: `'%'` or `'px'`. */\\n  export let units = $percentRange === true ? '%' : 'px';\\n\\n  $: isBandwidth = typeof $yScale.bandwidth === 'function';\\n\\n  /** @type {Array\u003Cany>} */\\n  $: tickVals = Array.isArray(ticks)\\n    ? ticks\\n    : isBandwidth\\n      ? $yScale.domain()\\n      : typeof ticks === 'function'\\n        ? ticks($yScale.ticks())\\n        : $yScale.ticks(ticks);\\n\\n  /** @param {Number} sum\\n   *  @param {String} val */\\n  function calcStringLength(sum, val) {\\n    if (val === ',' || val === '.') return sum + charPixelWidth * 0.5;\\n    return sum + charPixelWidth;\\n  }\\n\\n  $: tickLen =\\n    tickMarks === true\\n      ? labelPosition === 'above'\\n        ? (tickMarkLength ?? widestTickLen)\\n        : (tickMarkLength ?? 6)\\n      : 0;\\n\\n  $: widestTickLen = Math.max(\\n    10,\\n    Math.max(...tickVals.map(d => format(d).toString().split('').reduce(calcStringLength, 0)))\\n  );\\n\\n  $: x1 = -tickGutter - (labelPosition === 'above' ? widestTickLen : tickLen);\\n  $: halfBand = isBandwidth ? $yScale.bandwidth() / 2 : 0;\\n\\n  $: maxTickValUnits = Math.max(...tickVals.map($yScale));\\n\u003C/script>\\n\\n\u003Cdiv class=\\\"axis y-axis\\\">\\n  {#each tickVals as tick, i (tick)}\\n    {@const tickValUnits = $yScale(tick)}\\n\\n    \u003Cdiv\\n      class=\\\"tick tick-{i}\\\"\\n      style=\\\"left:{$xRange[0]}{units};top:{tickValUnits + halfBand}{units};\\\"\\n    >\\n      {#if gridlines === true}\\n        \u003Cdiv class=\\\"gridline\\\" style=\\\"top:0;\\\" style:left=\\\"{x1}px\\\" style:right=\\\"0px\\\">\u003C/div>\\n      {/if}\\n      {#if tickMarks === true}\\n        \u003Cdiv class=\\\"tick-mark\\\" style:top=\\\"0\\\" style:left=\\\"{x1}px\\\" style:width=\\\"{tickLen}px\\\">\u003C/div>\\n      {/if}\\n      \u003Cdiv\\n        class=\\\"text\\\"\\n        style:top=\\\"0\\\"\\n        style:text-align={labelPosition === 'even' ? 'right' : 'left'}\\n        style:width=\\\"{widestTickLen}px\\\"\\n        style:left=\\\"{-widestTickLen - tickGutter - (labelPosition === 'even' ? tickLen : 0)}px\\\"\\n        style:transform=\\\"translate({dx + (labelPosition === 'even' ? -3 : 0)}px, calc(-50% + {dy +\\n          (labelPosition === 'above' ||\\n          (snapBaselineLabel === true && tickValUnits === maxTickValUnits)\\n            ? -3\\n            : 4)}px))\\\"\\n      >\\n        {format(tick)}\\n      \u003C/div>\\n    \u003C/div>\\n  {/each}\\n\u003C/div>\\n\\n\u003Cstyle>\\n  .axis,\\n  .tick,\\n  .tick-mark,\\n  .gridline,\\n  .baseline,\\n  .text {\\n    position: absolute;\\n  }\\n  .axis {\\n    width: 100%;\\n    height: 100%;\\n  }\\n  .tick {\\n    font-size: 11px;\\n    width: 100%;\\n  }\\n\\n  .gridline {\\n    border-top: 1px dashed #aaa;\\n  }\\n  .tick-mark {\\n    border-top: 1px solid #aaa;\\n  }\\n\\n  .baseline.gridline {\\n    border-top-style: solid;\\n  }\\n\\n  .tick .text {\\n    color: #666;\\n  }\\n\u003C/style>\"},{\"title\":\"./_components/Brush.html.svelte\",\"contents\":\"\u003C!--\\n  @component\\n  Adds a brush component to create a range between 0 and 1. Bind to the `min` and `max` props to use them in other components. See the [brushable example](https://layercake.graphcics/example/Brush) for use.\\n -->\\n\u003Cscript>\\n  import { clamp } from 'yootils';\\n\\n  /** @type {Number} min - The brush's min value. Useful to bind to. */\\n  export let min;\\n\\n  /** @type {Number} max - The brush's max value. Useful to bind to. */\\n  export let max;\\n\\n  let brush;\\n\\n  const p = x => {\\n    const { left, right } = brush.getBoundingClientRect();\\n    return clamp((x - left) / (right - left), 0, 1);\\n  };\\n\\n  const handler = fn => {\\n    return e => {\\n      if (e.type === 'touchstart') {\\n        if (e.touches.length !== 1) return;\\n        e = e.touches[0];\\n      }\\n\\n      const id = e.identifier;\\n      const start = { min, max, p: p(e.clientX) };\\n\\n      const handle_move = e => {\\n        if (e.type === 'touchmove') {\\n          if (e.changedTouches.length !== 1) return;\\n          e = e.changedTouches[0];\\n          if (e.identifier !== id) return;\\n        }\\n\\n        fn(start, p(e.clientX));\\n      };\\n\\n      const handle_end = e => {\\n        if (e.type === 'touchend') {\\n          if (e.changedTouches.length !== 1) return;\\n          if (e.changedTouches[0].identifier !== id) return;\\n        } else if (e.target === brush) {\\n          clear();\\n        }\\n\\n        window.removeEventListener('mousemove', handle_move);\\n        window.removeEventListener('mouseup', handle_end);\\n\\n        window.removeEventListener('touchmove', handle_move);\\n        window.removeEventListener('touchend', handle_end);\\n      };\\n\\n      window.addEventListener('mousemove', handle_move);\\n      window.addEventListener('mouseup', handle_end);\\n\\n      window.addEventListener('touchmove', handle_move);\\n      window.addEventListener('touchend', handle_end);\\n    };\\n  };\\n\\n  const clear = () => {\\n    min = null;\\n    max = null;\\n  };\\n\\n  const reset = handler((start, p) => {\\n    min = clamp(Math.min(start.p, p), 0, 1);\\n    max = clamp(Math.max(start.p, p), 0, 1);\\n  });\\n\\n  const move = handler((start, p) => {\\n    const d = clamp(p - start.p, -start.min, 1 - start.max);\\n    min = start.min + d;\\n    max = start.max + d;\\n  });\\n\\n  const adjust_min = handler((start, p) => {\\n    min = p > start.max ? start.max : p;\\n    max = p > start.max ? p : start.max;\\n  });\\n\\n  const adjust_max = handler((start, p) => {\\n    min = p \u003C start.min ? p : start.min;\\n    max = p \u003C start.min ? start.min : p;\\n  });\\n\\n  $: left = 100 * min;\\n  $: right = 100 * (1 - max);\\n\u003C/script>\\n\\n\u003C!-- TODO Add keyboard accessibility. See https://github.com/mhkeller/layercake/pull/258 -->\\n\u003C!-- svelte-ignore a11y_no_static_element_interactions -->\\n\u003Cdiv\\n  bind:this={brush}\\n  class=\\\"brush-outer\\\"\\n  on:mousedown|stopPropagation={reset}\\n  on:touchstart|stopPropagation={reset}\\n>\\n  {#if min !== null}\\n    \u003Cdiv\\n      class=\\\"brush-inner\\\"\\n      on:mousedown|stopPropagation={move}\\n      on:touchstart|stopPropagation={move}\\n      style=\\\"left: {left}%; right: {right}%\\\"\\n    >\u003C/div>\\n    \u003Cdiv\\n      class=\\\"brush-handle\\\"\\n      on:mousedown|stopPropagation={adjust_min}\\n      on:touchstart|stopPropagation={adjust_min}\\n      style=\\\"left: {left}%\\\"\\n    >\u003C/div>\\n    \u003Cdiv\\n      class=\\\"brush-handle\\\"\\n      on:mousedown|stopPropagation={adjust_max}\\n      on:touchstart|stopPropagation={adjust_max}\\n      style=\\\"right: {right}%\\\"\\n    >\u003C/div>\\n  {/if}\\n\u003C/div>\\n\\n\u003Cstyle>\\n  .brush-outer {\\n    position: relative;\\n    width: 100%;\\n    height: calc(100% + 5px);\\n    top: -5px;\\n  }\\n\\n  .brush-inner {\\n    position: absolute;\\n    height: 100%;\\n    cursor: move;\\n    /* mix-blend-mode: difference; */\\n    background-color: #cccccc90;\\n    /* border: 1px solid #000; */\\n  }\\n\\n  .brush-handle {\\n    position: absolute;\\n    width: 0;\\n    height: 100%;\\n    cursor: ew-resize;\\n  }\\n\\n  .brush-handle::before {\\n    position: absolute;\\n    content: '';\\n    width: 8px;\\n    left: -4px;\\n    height: 100%;\\n    background: transparent;\\n  }\\n\u003C/style>\"}],\"modules\":[],\"componentModules\":[],\"componentComponents\":[],\"csvs\":[{\"title\":\"./_data/points.csv\",\"contents\":\"myX,myY\\n1979,7.19\\n1980,7.83\\n1981,7.24\\n1982,7.44\\n1983,7.51\\n1984,7.1\\n1985,6.91\\n1986,7.53\\n1987,7.47\\n1988,7.48\\n1989,7.03\\n1990,6.23\\n1991,6.54\\n1992,7.54\\n1993,6.5\\n1994,7.18\\n1995,6.12\\n1996,7.87\\n1997,6.73\\n1998,6.55\\n1999,6.23\\n2000,6.31\\n2001,6.74\\n2002,5.95\\n2003,6.13\\n2004,6.04\\n2005,5.56\\n2006,5.91\\n2007,4.29\\n2008,4.72\\n2009,5.38\\n2010,4.92\\n2011,4.61\\n2012,3.62\\n2013,5.35\\n2014,5.28\\n2015,4.63\\n2016,4.72\"}],\"jsons\":[]}"}</script>
			<script>
				{
					__sveltekit_1nr8ot2 = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.C0zY-RjY.js"),
						import("../_app/immutable/entry/app.CSPRmjdZ.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 6],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
